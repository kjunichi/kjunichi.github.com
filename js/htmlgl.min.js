!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;"undefined"!=typeof window?e=window:"undefined"!=typeof global?e=global:"undefined"!=typeof self&&(e=self),e.html2canvas=t()}}(function(){var t;return function e(t,n,r){function o(a,s){if(!n[a]){if(!t[a]){var l="function"==typeof require&&require;if(!s&&l)return l(a,!0);if(i)return i(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var u=n[a]={exports:{}};t[a][0].call(u.exports,function(e){var n=t[a][1][e];return o(n?n:e)},u,u.exports,e,t,n,r)}return n[a].exports}for(var i="function"==typeof require&&require,a=0;a<r.length;a++)o(r[a]);return o}({1:[function(e,n,r){(function(e,r){(function(){"use strict";function o(t){return"function"==typeof t||"object"==typeof t&&null!==t}function i(t){return"function"==typeof t}function a(t){return"object"==typeof t&&null!==t}function s(){}function l(){return function(){e.nextTick(h)}}function c(){var t=0,e=new D(h),n=document.createTextNode("");return e.observe(n,{characterData:!0}),function(){n.data=t=++t%2}}function u(){var t=new MessageChannel;return t.port1.onmessage=h,function(){t.port2.postMessage(0)}}function d(){return function(){setTimeout(h,1)}}function h(){for(var t=0;F>t;t+=2){var e=z[t],n=z[t+1];e(n),z[t]=void 0,z[t+1]=void 0}F=0}function p(){}function f(){return new TypeError("You cannot resolve a promise with itself")}function g(){return new TypeError("A promises callback cannot return that same promise.")}function m(t){try{return t.then}catch(e){return X.error=e,X}}function y(t,e,n,r){try{t.call(e,n,r)}catch(o){return o}}function v(t,e,n){B(function(t){var r=!1,o=y(n,e,function(n){r||(r=!0,e!==n?x(t,n):S(t,n))},function(e){r||(r=!0,E(t,e))},"Settle: "+(t._label||" unknown promise"));!r&&o&&(r=!0,E(t,o))},t)}function b(t,e){e._state===q?S(t,e._result):t._state===U?E(t,e._result):C(e,void 0,function(e){x(t,e)},function(e){E(t,e)})}function w(t,e){if(e.constructor===t.constructor)b(t,e);else{var n=m(e);n===X?E(t,X.error):void 0===n?S(t,e):i(n)?v(t,e,n):S(t,e)}}function x(t,e){t===e?E(t,f()):o(e)?w(t,e):S(t,e)}function T(t){t._onerror&&t._onerror(t._result),L(t)}function S(t,e){t._state===W&&(t._result=e,t._state=q,0===t._subscribers.length||B(L,t))}function E(t,e){t._state===W&&(t._state=U,t._result=e,B(T,t))}function C(t,e,n,r){var o=t._subscribers,i=o.length;t._onerror=null,o[i]=e,o[i+q]=n,o[i+U]=r,0===i&&t._state&&B(L,t)}function L(t){var e=t._subscribers,n=t._state;if(0!==e.length){for(var r,o,i=t._result,a=0;a<e.length;a+=3)r=e[a],o=e[a+n],r?M(n,r,o,i):o(i);t._subscribers.length=0}}function k(){this.error=null}function P(t,e){try{return t(e)}catch(n){return Y.error=n,Y}}function M(t,e,n,r){var o,a,s,l,c=i(n);if(c){if(o=P(n,r),o===Y?(l=!0,a=o.error,o=null):s=!0,e===o)return void E(e,g())}else o=r,s=!0;e._state!==W||(c&&s?x(e,o):l?E(e,a):t===q?S(e,o):t===U&&E(e,o))}function I(t,e){try{e(function(e){x(t,e)},function(e){E(t,e)})}catch(n){E(t,n)}}function A(t,e,n,r){this._instanceConstructor=t,this.promise=new t(p,r),this._abortOnReject=n,this._validateInput(e)?(this._input=e,this.length=e.length,this._remaining=e.length,this._init(),0===this.length?S(this.promise,this._result):(this.length=this.length||0,this._enumerate(),0===this._remaining&&S(this.promise,this._result))):E(this.promise,this._validationError())}function O(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function R(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function N(t){this._id=tt++,this._state=void 0,this._result=void 0,this._subscribers=[],p!==t&&(i(t)||O(),this instanceof N||R(),I(this,t))}var V;V=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)};var _,H=V,F=(Date.now||function(){return(new Date).getTime()},Object.create||function(t){if(arguments.length>1)throw new Error("Second argument not supported");if("object"!=typeof t)throw new TypeError("Argument must be an object");return s.prototype=t,new s},0),B=function(t,e){z[F]=t,z[F+1]=e,F+=2,2===F&&_()},j="undefined"!=typeof window?window:{},D=j.MutationObserver||j.WebKitMutationObserver,G="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,z=new Array(1e3);_="undefined"!=typeof e&&"[object process]"==={}.toString.call(e)?l():D?c():G?u():d();var W=void 0,q=1,U=2,X=new k,Y=new k;A.prototype._validateInput=function(t){return H(t)},A.prototype._validationError=function(){return new Error("Array Methods must be provided an Array")},A.prototype._init=function(){this._result=new Array(this.length)};var $=A;A.prototype._enumerate=function(){for(var t=this.length,e=this.promise,n=this._input,r=0;e._state===W&&t>r;r++)this._eachEntry(n[r],r)},A.prototype._eachEntry=function(t,e){var n=this._instanceConstructor;a(t)?t.constructor===n&&t._state!==W?(t._onerror=null,this._settledAt(t._state,e,t._result)):this._willSettleAt(n.resolve(t),e):(this._remaining--,this._result[e]=this._makeResult(q,e,t))},A.prototype._settledAt=function(t,e,n){var r=this.promise;r._state===W&&(this._remaining--,this._abortOnReject&&t===U?E(r,n):this._result[e]=this._makeResult(t,e,n)),0===this._remaining&&S(r,this._result)},A.prototype._makeResult=function(t,e,n){return n},A.prototype._willSettleAt=function(t,e){var n=this;C(t,void 0,function(t){n._settledAt(q,e,t)},function(t){n._settledAt(U,e,t)})};var Q=function(t,e){return new $(this,t,!0,e).promise},Z=function(t,e){function n(t){x(i,t)}function r(t){E(i,t)}var o=this,i=new o(p,e);if(!H(t))return E(i,new TypeError("You must pass an array to race.")),i;for(var a=t.length,s=0;i._state===W&&a>s;s++)C(o.resolve(t[s]),void 0,n,r);return i},J=function(t,e){var n=this;if(t&&"object"==typeof t&&t.constructor===n)return t;var r=new n(p,e);return x(r,t),r},K=function(t,e){var n=this,r=new n(p,e);return E(r,t),r},tt=0,et=N;N.all=Q,N.race=Z,N.resolve=J,N.reject=K,N.prototype={constructor:N,then:function(t,e){var n=this,r=n._state;if(r===q&&!t||r===U&&!e)return this;var o=new this.constructor(p),i=n._result;if(r){var a=arguments[r-1];B(function(){M(r,o,a,i)})}else C(n,o,t,e);return o},"catch":function(t){return this.then(null,t)}};var nt=function(){var t;t="undefined"!=typeof r?r:"undefined"!=typeof window&&window.document?window:self;var e="Promise"in t&&"resolve"in t.Promise&&"reject"in t.Promise&&"all"in t.Promise&&"race"in t.Promise&&function(){var e;return new t.Promise(function(t){e=t}),i(e)}();e||(t.Promise=et)},rt={Promise:et,polyfill:nt};"function"==typeof t&&t.amd?t(function(){return rt}):"undefined"!=typeof n&&n.exports?n.exports=rt:"undefined"!=typeof this&&(this.ES6Promise=rt)}).call(this)}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:2}],2:[function(t,e,n){function r(){if(!s){s=!0;for(var t,e=a.length;e;){t=a,a=[];for(var n=-1;++n<e;)t[n]();e=a.length}s=!1}}function o(){}var i=e.exports={},a=[],s=!1;i.nextTick=function(t){a.push(t),s||setTimeout(r,0)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.on=o,i.addListener=o,i.once=o,i.off=o,i.removeListener=o,i.removeAllListeners=o,i.emit=o,i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},{}],3:[function(e,n,r){(function(e){!function(o){function i(t){throw RangeError(N[t])}function a(t,e){for(var n=t.length;n--;)t[n]=e(t[n]);return t}function s(t,e){return a(t.split(R),e).join(".")}function l(t){for(var e,n,r=[],o=0,i=t.length;i>o;)e=t.charCodeAt(o++),e>=55296&&56319>=e&&i>o?(n=t.charCodeAt(o++),56320==(64512&n)?r.push(((1023&e)<<10)+(1023&n)+65536):(r.push(e),o--)):r.push(e);return r}function c(t){return a(t,function(t){var e="";return t>65535&&(t-=65536,e+=H(t>>>10&1023|55296),t=56320|1023&t),e+=H(t)}).join("")}function u(t){return 10>t-48?t-22:26>t-65?t-65:26>t-97?t-97:S}function d(t,e){return t+22+75*(26>t)-((0!=e)<<5)}function h(t,e,n){var r=0;for(t=n?_(t/k):t>>1,t+=_(t/e);t>V*C>>1;r+=S)t=_(t/V);return _(r+(V+1)*t/(t+L))}function p(t){var e,n,r,o,a,s,l,d,p,f,g=[],m=t.length,y=0,v=M,b=P;for(n=t.lastIndexOf(I),0>n&&(n=0),r=0;n>r;++r)t.charCodeAt(r)>=128&&i("not-basic"),g.push(t.charCodeAt(r));for(o=n>0?n+1:0;m>o;){for(a=y,s=1,l=S;o>=m&&i("invalid-input"),d=u(t.charCodeAt(o++)),(d>=S||d>_((T-y)/s))&&i("overflow"),y+=d*s,p=b>=l?E:l>=b+C?C:l-b,!(p>d);l+=S)f=S-p,s>_(T/f)&&i("overflow"),s*=f;e=g.length+1,b=h(y-a,e,0==a),_(y/e)>T-v&&i("overflow"),v+=_(y/e),y%=e,g.splice(y++,0,v)}return c(g)}function f(t){var e,n,r,o,a,s,c,u,p,f,g,m,y,v,b,w=[];for(t=l(t),m=t.length,e=M,n=0,a=P,s=0;m>s;++s)g=t[s],128>g&&w.push(H(g));for(r=o=w.length,o&&w.push(I);m>r;){for(c=T,s=0;m>s;++s)g=t[s],g>=e&&c>g&&(c=g);for(y=r+1,c-e>_((T-n)/y)&&i("overflow"),n+=(c-e)*y,e=c,s=0;m>s;++s)if(g=t[s],e>g&&++n>T&&i("overflow"),g==e){for(u=n,p=S;f=a>=p?E:p>=a+C?C:p-a,!(f>u);p+=S)b=u-f,v=S-f,w.push(H(d(f+b%v,0))),u=_(b/v);w.push(H(d(u,0))),a=h(n,y,r==o),n=0,++r}++n,++e}return w.join("")}function g(t){return s(t,function(t){return A.test(t)?p(t.slice(4).toLowerCase()):t})}function m(t){return s(t,function(t){return O.test(t)?"xn--"+f(t):t})}var y="object"==typeof r&&r,v="object"==typeof n&&n&&n.exports==y&&n,b="object"==typeof e&&e;(b.global===b||b.window===b)&&(o=b);var w,x,T=2147483647,S=36,E=1,C=26,L=38,k=700,P=72,M=128,I="-",A=/^xn--/,O=/[^ -~]/,R=/\x2E|\u3002|\uFF0E|\uFF61/g,N={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},V=S-E,_=Math.floor,H=String.fromCharCode;if(w={version:"1.2.4",ucs2:{decode:l,encode:c},decode:p,encode:f,toASCII:m,toUnicode:g},"function"==typeof t&&"object"==typeof t.amd&&t.amd)t("punycode",function(){return w});else if(y&&!y.nodeType)if(v)v.exports=w;else for(x in w)w.hasOwnProperty(x)&&(y[x]=w[x]);else o.punycode=w}(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],4:[function(t,e,n){function r(t,e,n){for(var r=t.getElementsByTagName(n),o=e.getElementsByTagName(n),i=r.length,a=0;i>a;a++)o[a].value=r[a].value}function o(t,e,n){!t.defaultView||e===t.defaultView.pageXOffset&&n===t.defaultView.pageYOffset||t.defaultView.scrollTo(e,n)}function i(t){[].slice.call(t.querySelectorAll("canvas"),0).forEach(function(t){t.setAttribute(p,"canvas-"+f++)})}function a(t,e){[].slice.call(t.querySelectorAll("["+p+"]"),0).forEach(function(t){try{var n=e.querySelector("["+p+'="'+t.getAttribute(p)+'"]');n&&(n.width=t.width,n.height=t.height,n.getContext("2d").putImageData(t.getContext("2d").getImageData(0,0,t.width,t.height),0,0))}catch(r){d("Unable to copy canvas content from",t,r)}t.removeAttribute(p)})}function s(t){return[].slice.call(t.childNodes,0).filter(u).forEach(function(e){"SCRIPT"===e.tagName?t.removeChild(e):s(e)}),t}function l(){return document.documentMode&&document.documentMode<=9}function c(t,e){for(var n=3===t.nodeType?document.createTextNode(t.nodeValue):t.cloneNode(!1),r=t.firstChild;r;)(e===!0||1!==r.nodeType||"SCRIPT"!==r.nodeName)&&n.appendChild(c(r,e)),r=r.nextSibling;return n}function u(t){return t.nodeType===Node.ELEMENT_NODE}var d=t("./log"),h=t("./promise"),p="data-html2canvas-canvas-clone",f=0;e.exports=function(t,e,n,u,d,p,f){i(t);var g=l()?c(t.documentElement,d.javascriptEnabled):t.documentElement.cloneNode(!0),m=e.createElement("iframe");return m.className="html2canvas-container",m.style.visibility="hidden",m.style.position="fixed",m.style.left="-10000px",m.style.top="0px",m.style.border="0",m.width=n,m.height=u,m.scrolling="no",e.body.appendChild(m),new h(function(e){var n=m.contentWindow.document;r(t.documentElement,g,"textarea"),r(t.documentElement,g,"select"),m.contentWindow.onload=m.onload=function(){var r=setInterval(function(){n.body.childNodes.length>0&&(a(t,n),clearInterval(r),"view"===d.type&&m.contentWindow.scrollTo(p,f),e(m))},50)},n.open(),n.write("<!DOCTYPE html><html></html>"),o(t,p,f),n.replaceChild(d.javascriptEnabled===!0?n.adoptNode(g):s(n.adoptNode(g)),n.documentElement),n.close()})}},{"./log":15,"./promise":18}],5:[function(t,e,n){function r(t){this.r=0,this.g=0,this.b=0,this.a=null;this.fromArray(t)||this.namedColor(t)||this.rgb(t)||this.rgba(t)||this.hex6(t)||this.hex3(t)}r.prototype.darken=function(t){var e=1-t;return new r([Math.round(this.r*e),Math.round(this.g*e),Math.round(this.b*e),this.a])},r.prototype.isTransparent=function(){return 0===this.a},r.prototype.isBlack=function(){return 0===this.r&&0===this.g&&0===this.b},r.prototype.fromArray=function(t){return Array.isArray(t)&&(this.r=Math.min(t[0],255),this.g=Math.min(t[1],255),this.b=Math.min(t[2],255),t.length>3&&(this.a=t[3])),Array.isArray(t)};var o=/^#([a-f0-9]{3})$/i;r.prototype.hex3=function(t){var e=null;return null!==(e=t.match(o))&&(this.r=parseInt(e[1][0]+e[1][0],16),this.g=parseInt(e[1][1]+e[1][1],16),this.b=parseInt(e[1][2]+e[1][2],16)),null!==e};var i=/^#([a-f0-9]{6})$/i;r.prototype.hex6=function(t){var e=null;return null!==(e=t.match(i))&&(this.r=parseInt(e[1].substring(0,2),16),this.g=parseInt(e[1].substring(2,4),16),this.b=parseInt(e[1].substring(4,6),16)),null!==e};var a=/^rgb\((\d{1,3}) *, *(\d{1,3}) *, *(\d{1,3})\)$/;r.prototype.rgb=function(t){var e=null;return null!==(e=t.match(a))&&(this.r=Number(e[1]),this.g=Number(e[2]),this.b=Number(e[3])),null!==e};var s=/^rgba\((\d{1,3}) *, *(\d{1,3}) *, *(\d{1,3}) *, *(\d+\.?\d*)\)$/;r.prototype.rgba=function(t){var e=null;return null!==(e=t.match(s))&&(this.r=Number(e[1]),this.g=Number(e[2]),this.b=Number(e[3]),this.a=Number(e[4])),null!==e},r.prototype.toString=function(){return null!==this.a&&1!==this.a?"rgba("+[this.r,this.g,this.b,this.a].join(",")+")":"rgb("+[this.r,this.g,this.b].join(",")+")"},r.prototype.namedColor=function(t){var e=l[t.toLowerCase()];if(e)this.r=e[0],this.g=e[1],this.b=e[2];else if("transparent"===t.toLowerCase())return this.r=this.g=this.b=this.a=0,!0;return!!e},r.prototype.isColor=!0;var l={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};e.exports=r},{}],6:[function(t,e,n){function r(t,e){var n=S++;if(e=e||{},e.logging&&(window.html2canvas.logging=!0,window.html2canvas.start=Date.now()),e.async="undefined"==typeof e.async?!0:e.async,e.allowTaint="undefined"==typeof e.allowTaint?!1:e.allowTaint,e.removeContainer="undefined"==typeof e.removeContainer?!0:e.removeContainer,e.javascriptEnabled="undefined"==typeof e.javascriptEnabled?!1:e.javascriptEnabled,e.imageTimeout="undefined"==typeof e.imageTimeout?1e4:e.imageTimeout,e.renderer="function"==typeof e.renderer?e.renderer:p,e.strict=!!e.strict,"string"==typeof t){if("string"!=typeof e.proxy)return d.reject("Proxy must be used when rendering url");var r=null!=e.width?e.width:window.innerWidth,a=null!=e.height?e.height:window.innerHeight;return w(u(t),e.proxy,document,r,a,e).then(function(t){return i(t.contentWindow.document.documentElement,t,e,r,a)})}var s=(void 0===t?[document.documentElement]:t.length?t:[t])[0];return s.setAttribute(T+n,n),o(s.ownerDocument,e,s.ownerDocument.defaultView.innerWidth,s.ownerDocument.defaultView.innerHeight,n).then(function(t){return"function"==typeof e.onrendered&&(y("options.onrendered is deprecated, html2canvas returns a Promise containing the canvas"),e.onrendered(t)),t})}function o(t,e,n,r,o){return b(t,t,n,r,e,t.defaultView.pageXOffset,t.defaultView.pageYOffset).then(function(a){y("Document cloned");var s=T+o,l="["+s+"='"+o+"']";t.querySelector(l).removeAttribute(s);var c=a.contentWindow,u=c.document.querySelector(l);"0"===u.style.opacity&&"webgl"===u.getAttribute("renderer")?u.style.opacity=1:null;var h=d.resolve("function"==typeof e.onclone?e.onclone(c.document):!0);return h.then(function(){return i(u,a,e,n,r)})})}function i(t,e,n,r,o){var i=e.contentWindow,u=new h(i.document),d=new f(n,u),p=x(t),m="view"===n.type?r:l(i.document),v="view"===n.type?o:c(i.document),b=new n.renderer(m,v,d,n,document),w=new g(t,b,u,d,n);return w.ready.then(function(){y("Finished rendering");var r;return r="view"===n.type?s(b.canvas,{width:b.canvas.width,height:b.canvas.height,top:0,left:0,x:0,y:0}):t===i.document.body||t===i.document.documentElement||null!=n.canvas?b.canvas:s(b.canvas,{width:null!=n.width?n.width:p.width,height:null!=n.height?n.height:p.height,top:p.top,left:p.left,x:i.pageXOffset,y:i.pageYOffset}),a(e,n),r})}function a(t,e){e.removeContainer&&(t.parentNode.removeChild(t),y("Cleaned up container"))}function s(t,e){var n=document.createElement("canvas"),r=Math.min(t.width-1,Math.max(0,e.left)),o=Math.min(t.width,Math.max(1,e.left+e.width)),i=Math.min(t.height-1,Math.max(0,e.top)),a=Math.min(t.height,Math.max(1,e.top+e.height));return n.width=e.width,n.height=e.height,y("Cropping canvas at:","left:",e.left,"top:",e.top,"width:",o-r,"height:",a-i),y("Resulting crop with width",e.width,"and height",e.height," with x",r,"and y",i),n.getContext("2d").drawImage(t,r,i,o-r,a-i,e.x,e.y,o-r,a-i),n}function l(t){return Math.max(Math.max(t.body.scrollWidth,t.documentElement.scrollWidth),Math.max(t.body.offsetWidth,t.documentElement.offsetWidth),Math.max(t.body.clientWidth,t.documentElement.clientWidth))}function c(t){return Math.max(Math.max(t.body.scrollHeight,t.documentElement.scrollHeight),Math.max(t.body.offsetHeight,t.documentElement.offsetHeight),Math.max(t.body.clientHeight,t.documentElement.clientHeight))}function u(t){var e=document.createElement("a");return e.href=t,e.href=e.href,e}var d=t("./promise"),h=t("./support"),p=t("./renderers/canvas"),f=t("./imageloader"),g=t("./nodeparser"),m=t("./nodecontainer"),y=t("./log"),v=t("./utils"),b=t("./clone"),w=t("./proxy").loadUrlDocument,x=v.getBounds,T="data-html2canvas-node",S=0;r.Promise=d,r.CanvasRenderer=p,r.NodeContainer=m,r.log=y,r.utils=v,e.exports="undefined"==typeof document||"function"!=typeof Object.create||"function"!=typeof document.createElement("canvas").getContext?function(){return d.reject("No canvas support")}:r},{"./clone":4,"./imageloader":13,"./log":15,"./nodecontainer":16,"./nodeparser":17,"./promise":18,"./proxy":19,"./renderers/canvas":23,"./support":25,"./utils":29}],7:[function(t,e,n){function r(t){if(this.src=t,i("DummyImageContainer for",t),!this.promise||!this.image){i("Initiating DummyImageContainer"),r.prototype.image=new Image;var e=this.image;r.prototype.promise=new o(function(t,n){e.onload=t,e.onerror=n,e.src=a(),e.complete===!0&&t(e)})}}var o=t("./promise"),i=t("./log"),a=t("./utils").smallImage;e.exports=r},{"./log":15,"./promise":18,"./utils":29}],8:[function(t,e,n){function r(t,e){var n,r,i=document.createElement("div"),a=document.createElement("img"),s=document.createElement("span"),l="Hidden Text";i.style.visibility="hidden",i.style.fontFamily=t,i.style.fontSize=e,i.style.margin=0,i.style.padding=0,document.body.appendChild(i),a.src=o(),a.width=1,a.height=1,a.style.margin=0,a.style.padding=0,a.style.verticalAlign="baseline",s.style.fontFamily=t,s.style.fontSize=e,s.style.margin=0,s.style.padding=0,s.appendChild(document.createTextNode(l)),i.appendChild(s),i.appendChild(a),n=a.offsetTop-s.offsetTop+1,i.removeChild(s),i.appendChild(document.createTextNode(l)),i.style.lineHeight="normal",a.style.verticalAlign="super",r=a.offsetTop-i.offsetTop+1,document.body.removeChild(i),this.baseline=n,this.lineWidth=1,this.middle=r}var o=t("./utils").smallImage;e.exports=r},{"./utils":29}],9:[function(t,e,n){function r(){this.data={}}var o=t("./font");r.prototype.getMetrics=function(t,e){return void 0===this.data[t+"-"+e]&&(this.data[t+"-"+e]=new o(t,e)),this.data[t+"-"+e]},e.exports=r},{"./font":8}],10:[function(t,e,n){function r(e,n,r){this.image=null,this.src=e;var o=this,s=a(e);this.promise=(n?new i(function(t){"about:blank"===e.contentWindow.document.URL||null==e.contentWindow.document.documentElement?e.contentWindow.onload=e.onload=function(){t(e)}:t(e)}):this.proxyLoad(r.proxy,s,r)).then(function(e){var n=t("./core");return n(e.contentWindow.document.documentElement,{type:"view",width:e.width,height:e.height,proxy:r.proxy,javascriptEnabled:r.javascriptEnabled,removeContainer:r.removeContainer,allowTaint:r.allowTaint,imageTimeout:r.imageTimeout/2})}).then(function(t){return o.image=t})}var o=t("./utils"),i=t("./promise"),a=o.getBounds,s=t("./proxy").loadUrlDocument;r.prototype.proxyLoad=function(t,e,n){var r=this.src;return s(r.src,t,r.ownerDocument,e.width,e.height,n)},e.exports=r},{"./core":6,"./promise":18,"./proxy":19,"./utils":29}],11:[function(t,e,n){function r(t){this.src=t.value,this.colorStops=[],this.type=null,this.x0=.5,this.y0=.5,this.x1=.5,this.y1=.5,this.promise=o.resolve(!0)}var o=t("./promise");r.prototype.TYPES={LINEAR:1,RADIAL:2},e.exports=r},{"./promise":18}],12:[function(t,e,n){function r(t,e){this.src=t,this.image=new Image;var n=this;this.tainted=null,this.promise=new o(function(r,o){n.image.onload=r,n.image.onerror=o,e&&(n.image.crossOrigin="anonymous"),n.image.src=t,n.image.complete===!0&&r(n.image)})}var o=t("./promise");e.exports=r},{"./promise":18}],13:[function(t,e,n){function r(t,e){this.link=null,this.options=t,this.support=e,this.origin=this.getOrigin(window.location.href)}var o=t("./promise"),i=t("./log"),a=t("./imagecontainer"),s=t("./dummyimagecontainer"),l=t("./proxyimagecontainer"),c=t("./framecontainer"),u=t("./svgcontainer"),d=t("./svgnodecontainer"),h=t("./lineargradientcontainer"),p=t("./webkitgradientcontainer"),f=t("./utils").bind;r.prototype.findImages=function(t){var e=[];return t.reduce(function(t,e){switch(e.node.nodeName){case"IMG":return t.concat([{args:[e.node.src],method:"url"}]);case"svg":case"IFRAME":return t.concat([{args:[e.node],method:e.node.nodeName}])}return t},[]).forEach(this.addImage(e,this.loadImage),this),e},r.prototype.findBackgroundImage=function(t,e){return e.parseBackgroundImages().filter(this.hasImageBackground).forEach(this.addImage(t,this.loadImage),this),t},r.prototype.addImage=function(t,e){return function(n){n.args.forEach(function(r){this.imageExists(t,r)||(t.splice(0,0,e.call(this,n)),i("Added image #"+t.length,"string"==typeof r?r.substring(0,100):r))},this)}},r.prototype.hasImageBackground=function(t){return"none"!==t.method},r.prototype.loadImage=function(t){if("url"===t.method){var e=t.args[0];return!this.isSVG(e)||this.support.svg||this.options.allowTaint?e.match(/data:image\/.*;base64,/i)?new a(e.replace(/url\(['"]{0,}|['"]{0,}\)$/gi,""),!1):this.isSameOrigin(e)||this.options.allowTaint===!0||this.isSVG(e)?new a(e,!1):this.support.cors&&!this.options.allowTaint&&this.options.useCORS?new a(e,!0):this.options.proxy?new l(e,this.options.proxy):new s(e):new u(e)}return"linear-gradient"===t.method?new h(t):"gradient"===t.method?new p(t):"svg"===t.method?new d(t.args[0],this.support.svg):"IFRAME"===t.method?new c(t.args[0],this.isSameOrigin(t.args[0].src),this.options):new s(t)},r.prototype.isSVG=function(t){return"svg"===t.substring(t.length-3).toLowerCase()||u.prototype.isInline(t)},r.prototype.imageExists=function(t,e){return t.some(function(t){return t.src===e})},r.prototype.isSameOrigin=function(t){return this.getOrigin(t)===this.origin},r.prototype.getOrigin=function(t){var e=this.link||(this.link=document.createElement("a"));return e.href=t,e.href=e.href,e.protocol+e.hostname+e.port},r.prototype.getPromise=function(t){return this.timeout(t,this.options.imageTimeout)["catch"](function(){var e=new s(t.src);return e.promise.then(function(e){t.image=e})})},r.prototype.get=function(t){var e=null;return this.images.some(function(n){return(e=n).src===t})?e:null},r.prototype.fetch=function(t){return this.images=t.reduce(f(this.findBackgroundImage,this),this.findImages(t)),this.images.forEach(function(t,e){t.promise.then(function(){i("Succesfully loaded image #"+(e+1),t)},function(n){i("Failed loading image #"+(e+1),t,n)})}),this.ready=o.all(this.images.map(this.getPromise,this)),i("Finished searching images"),this},r.prototype.timeout=function(t,e){var n,r=o.race([t.promise,new o(function(r,o){n=setTimeout(function(){i("Timed out loading image",t),o(t)},e)})]).then(function(t){return clearTimeout(n),t});return r["catch"](function(){clearTimeout(n)}),r},e.exports=r},{"./dummyimagecontainer":7,"./framecontainer":10,"./imagecontainer":12,"./lineargradientcontainer":14,"./log":15,"./promise":18,"./proxyimagecontainer":20,"./svgcontainer":26,"./svgnodecontainer":27,"./utils":29,"./webkitgradientcontainer":30}],14:[function(t,e,n){function r(t){o.apply(this,arguments),this.type=this.TYPES.LINEAR;var e=null===t.args[0].match(this.stepRegExp);e?t.args[0].split(" ").reverse().forEach(function(t){switch(t){case"left":this.x0=0,this.x1=1;break;case"top":this.y0=0,this.y1=1;break;case"right":this.x0=1,this.x1=0;break;case"bottom":this.y0=1,this.y1=0;break;case"to":var e=this.y0,n=this.x0;this.y0=this.y1,this.x0=this.x1,this.x1=n,this.y1=e}},this):(this.y0=0,this.y1=1),this.colorStops=t.args.slice(e?1:0).map(function(t){var e=t.match(this.stepRegExp);return{color:new i(e[1]),stop:"%"===e[3]?e[2]/100:null}},this),null===this.colorStops[0].stop&&(this.colorStops[0].stop=0),null===this.colorStops[this.colorStops.length-1].stop&&(this.colorStops[this.colorStops.length-1].stop=1),this.colorStops.forEach(function(t,e){null===t.stop&&this.colorStops.slice(e).some(function(n,r){return null!==n.stop?(t.stop=(n.stop-this.colorStops[e-1].stop)/(r+1)+this.colorStops[e-1].stop,!0):!1},this)},this)}var o=t("./gradientcontainer"),i=t("./color");r.prototype=Object.create(o.prototype),r.prototype.stepRegExp=/((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\))\s*(\d{1,3})?(%|px)?/,e.exports=r},{"./color":5,"./gradientcontainer":11}],15:[function(t,e,n){e.exports=function(){window.html2canvas.logging&&window.console&&window.console.log&&Function.prototype.bind.call(window.console.log,window.console).apply(window.console,[Date.now()-window.html2canvas.start+"ms","html2canvas:"].concat([].slice.call(arguments,0)))}},{}],16:[function(t,e,n){function r(t,e){this.node=t,this.parent=e,this.stack=null,this.bounds=null,this.borders=null,this.clip=[],this.backgroundClip=[],this.offsetBounds=null,this.visible=null,this.computedStyles=null,this.colors={},this.styles={},this.backgroundImages=null,this.transformData=null,this.transformMatrix=null,this.isPseudoElement=!1,this.opacity=null}function o(t){var e=t.options[t.selectedIndex||0];return e?e.text||"":""}function i(t){return t&&"matrix"===t[1]?t[2].split(",").map(function(t){return parseFloat(t.trim())}):void 0}function a(t){return-1!==t.toString().indexOf("%")}function s(t){return t.replace("px","")}function l(t){return parseFloat(t)}var c=t("./color"),u=t("./utils"),d=u.getBounds,h=u.parseBackgrounds,p=u.offsetBounds;r.prototype.cloneTo=function(t){t.visible=this.visible,t.borders=this.borders,t.bounds=this.bounds,t.clip=this.clip,t.backgroundClip=this.backgroundClip,t.computedStyles=this.computedStyles,t.styles=this.styles,t.backgroundImages=this.backgroundImages,t.opacity=this.opacity},r.prototype.getOpacity=function(){return null===this.opacity?this.opacity=this.cssFloat("opacity"):this.opacity},r.prototype.assignStack=function(t){this.stack=t,t.children.push(this)},r.prototype.isElementVisible=function(){return this.node.nodeType===Node.TEXT_NODE?this.parent.visible:"none"!==this.css("display")&&!this.node.hasAttribute("data-html2canvas-ignore")&&("INPUT"!==this.node.nodeName||"hidden"!==this.node.getAttribute("type"))},r.prototype.css=function(t){return this.computedStyles||(this.computedStyles=this.isPseudoElement?this.parent.computedStyle(this.before?":before":":after"):this.computedStyle(null)),this.styles[t]||(this.styles[t]=this.computedStyles[t])},r.prototype.prefixedCss=function(t){var e=["webkit","moz","ms","o"],n=this.css(t);return void 0===n&&e.some(function(e){return n=this.css(e+t.substr(0,1).toUpperCase()+t.substr(1)),void 0!==n},this),void 0===n?null:n},r.prototype.computedStyle=function(t){return this.node.ownerDocument.defaultView.getComputedStyle(this.node,t)},r.prototype.cssInt=function(t){var e=parseInt(this.css(t),10);return isNaN(e)?0:e},r.prototype.color=function(t){return this.colors[t]||(this.colors[t]=new c(this.css(t)))},r.prototype.cssFloat=function(t){var e=parseFloat(this.css(t));return isNaN(e)?0:e},r.prototype.fontWeight=function(){var t=this.css("fontWeight");switch(parseInt(t,10)){case 401:t="bold";break;case 400:t="normal"}return t},r.prototype.parseClip=function(){var t=this.css("clip").match(this.CLIP);return t?{top:parseInt(t[1],10),
right:parseInt(t[2],10),bottom:parseInt(t[3],10),left:parseInt(t[4],10)}:null},r.prototype.parseBackgroundImages=function(){return this.backgroundImages||(this.backgroundImages=h(this.css("backgroundImage")))},r.prototype.cssList=function(t,e){var n=(this.css(t)||"").split(",");return n=n[e||0]||n[0]||"auto",n=n.trim().split(" "),1===n.length&&(n=[n[0],a(n[0])?"auto":n[0]]),n},r.prototype.parseBackgroundSize=function(t,e,n){var r,o,i=this.cssList("backgroundSize",n);if(a(i[0]))r=t.width*parseFloat(i[0])/100;else{if(/contain|cover/.test(i[0])){var s=t.width/t.height,l=e.width/e.height;return l>s^"contain"===i[0]?{width:t.height*l,height:t.height}:{width:t.width,height:t.width/l}}r=parseInt(i[0],10)}return o="auto"===i[0]&&"auto"===i[1]?e.height:"auto"===i[1]?r/e.width*e.height:a(i[1])?t.height*parseFloat(i[1])/100:parseInt(i[1],10),"auto"===i[0]&&(r=o/e.height*e.width),{width:r,height:o}},r.prototype.parseBackgroundPosition=function(t,e,n,r){var o,i,s=this.cssList("backgroundPosition",n);return o=a(s[0])?(t.width-(r||e).width)*(parseFloat(s[0])/100):parseInt(s[0],10),i="auto"===s[1]?o/e.width*e.height:a(s[1])?(t.height-(r||e).height)*parseFloat(s[1])/100:parseInt(s[1],10),"auto"===s[0]&&(o=i/e.height*e.width),{left:o,top:i}},r.prototype.parseBackgroundRepeat=function(t){return this.cssList("backgroundRepeat",t)[0]},r.prototype.parseTextShadows=function(){var t=this.css("textShadow"),e=[];if(t&&"none"!==t)for(var n=t.match(this.TEXT_SHADOW_PROPERTY),r=0;n&&r<n.length;r++){var o=n[r].match(this.TEXT_SHADOW_VALUES);e.push({color:new c(o[0]),offsetX:o[1]?parseFloat(o[1].replace("px","")):0,offsetY:o[2]?parseFloat(o[2].replace("px","")):0,blur:o[3]?o[3].replace("px",""):0})}return e},r.prototype.parseTransform=function(){if(!this.transformData)if(this.hasTransform()){var t=this.parseBounds(),e=this.prefixedCss("transformOrigin").split(" ").map(s).map(l);e[0]+=t.left,e[1]+=t.top,this.transformData={origin:e,matrix:this.parseTransformMatrix()}}else this.transformData={origin:[0,0],matrix:[1,0,0,1,0,0]};return this.transformData},r.prototype.parseTransformMatrix=function(){if(!this.transformMatrix){var t=this.prefixedCss("transform"),e=t?i(t.match(this.MATRIX_PROPERTY)):null;this.transformMatrix=e?e:[1,0,0,1,0,0]}return this.transformMatrix},r.prototype.parseBounds=function(){return this.bounds||(this.bounds=this.hasTransform()?p(this.node):d(this.node))},r.prototype.hasTransform=function(){return"1,0,0,1,0,0"!==this.parseTransformMatrix().join(",")||this.parent&&this.parent.hasTransform()},r.prototype.getValue=function(){var t=this.node.value||"";return"SELECT"===this.node.tagName?t=o(this.node):"password"===this.node.type&&(t=Array(t.length+1).join("•")),0===t.length?this.node.placeholder||"":t},r.prototype.MATRIX_PROPERTY=/(matrix)\((.+)\)/,r.prototype.TEXT_SHADOW_PROPERTY=/((rgba|rgb)\([^\)]+\)(\s-?\d+px){0,})/g,r.prototype.TEXT_SHADOW_VALUES=/(-?\d+px)|(#.+)|(rgb\(.+\))|(rgba\(.+\))/g,r.prototype.CLIP=/^rect\((\d+)px,? (\d+)px,? (\d+)px,? (\d+)px\)$/,e.exports=r},{"./color":5,"./utils":29}],17:[function(t,e,n){function r(t,e,n,r,o){j("Starting NodeParser"),this.renderer=e,this.options=o,this.range=null,this.support=n,this.renderQueue=[],this.stack=new Y(!0,1,t.ownerDocument,null);var i=new G(t,null);if(o.background&&e.rectangle(0,0,e.width,e.height,new U(o.background)),t===t.ownerDocument.documentElement){var a=new G(i.color("backgroundColor").isTransparent()?t.ownerDocument.body:t.ownerDocument.documentElement,null);e.rectangle(0,0,e.width,e.height,a.color("backgroundColor"))}i.visibile=i.isElementVisible(),this.createPseudoHideStyles(t.ownerDocument),this.disableAnimations(t.ownerDocument),this.nodes=V([i].concat(this.getChildren(i)).filter(function(t){return t.visible=t.isElementVisible()}).map(this.getPseudoElements,this)),this.fontMetrics=new q,j("Fetched nodes, total:",this.nodes.length),j("Calculate overflow clips"),this.calculateOverflowClips(),j("Start fetching images"),this.images=r.fetch(this.nodes.filter(k)),this.ready=this.images.ready.then(Q(function(){return j("Images loaded, starting parsing"),j("Creating stacking contexts"),this.createStackingContexts(),j("Sorting stacking contexts"),this.sortStackingContexts(this.stack),this.parse(this.stack),j("Render queue created with "+this.renderQueue.length+" items"),new X(Q(function(t){o.async?"function"==typeof o.async?o.async.call(this,this.renderQueue,t):this.renderQueue.length>0?(this.renderIndex=0,this.asyncRenderer(this.renderQueue,t)):t():(this.renderQueue.forEach(this.paint,this),t())},this))},this))}function o(t){return t.parent&&t.parent.clip.length}function i(t){return t.replace(/(\-[a-z])/g,function(t){return t.toUpperCase().replace("-","")})}function a(){}function s(t,e,n,r){return t.map(function(o,i){if(o.width>0){var a=e.left,s=e.top,l=e.width,c=e.height-t[2].width;switch(i){case 0:c=t[0].width,o.args=d({c1:[a,s],c2:[a+l,s],c3:[a+l-t[1].width,s+c],c4:[a+t[3].width,s+c]},r[0],r[1],n.topLeftOuter,n.topLeftInner,n.topRightOuter,n.topRightInner);break;case 1:a=e.left+e.width-t[1].width,l=t[1].width,o.args=d({c1:[a+l,s],c2:[a+l,s+c+t[2].width],c3:[a,s+c],c4:[a,s+t[0].width]},r[1],r[2],n.topRightOuter,n.topRightInner,n.bottomRightOuter,n.bottomRightInner);break;case 2:s=s+e.height-t[2].width,c=t[2].width,o.args=d({c1:[a+l,s+c],c2:[a,s+c],c3:[a+t[3].width,s],c4:[a+l-t[3].width,s]},r[2],r[3],n.bottomRightOuter,n.bottomRightInner,n.bottomLeftOuter,n.bottomLeftInner);break;case 3:l=t[3].width,o.args=d({c1:[a,s+c+t[2].width],c2:[a,s],c3:[a+l,s+t[0].width],c4:[a+l,s+c]},r[3],r[0],n.bottomLeftOuter,n.bottomLeftInner,n.topLeftOuter,n.topLeftInner)}}return o})}function l(t,e,n,r){var o=4*((Math.sqrt(2)-1)/3),i=n*o,a=r*o,s=t+n,l=e+r;return{topLeft:u({x:t,y:l},{x:t,y:l-a},{x:s-i,y:e},{x:s,y:e}),topRight:u({x:t,y:e},{x:t+i,y:e},{x:s,y:l-a},{x:s,y:l}),bottomRight:u({x:s,y:e},{x:s,y:e+a},{x:t+i,y:l},{x:t,y:l}),bottomLeft:u({x:s,y:l},{x:s-i,y:l},{x:t,y:e+a},{x:t,y:e})}}function c(t,e,n){var r=t.left,o=t.top,i=t.width,a=t.height,s=e[0][0],c=e[0][1],u=e[1][0],d=e[1][1],h=e[2][0],p=e[2][1],f=e[3][0],g=e[3][1],m=Math.floor(a/2);s=s>m?m:s,c=c>m?m:c,u=u>m?m:u,d=d>m?m:d,h=h>m?m:h,p=p>m?m:p,f=f>m?m:f,g=g>m?m:g;var y=i-u,v=a-p,b=i-h,w=a-g;return{topLeftOuter:l(r,o,s,c).topLeft.subdivide(.5),topLeftInner:l(r+n[3].width,o+n[0].width,Math.max(0,s-n[3].width),Math.max(0,c-n[0].width)).topLeft.subdivide(.5),topRightOuter:l(r+y,o,u,d).topRight.subdivide(.5),topRightInner:l(r+Math.min(y,i+n[3].width),o+n[0].width,y>i+n[3].width?0:u-n[3].width,d-n[0].width).topRight.subdivide(.5),bottomRightOuter:l(r+b,o+v,h,p).bottomRight.subdivide(.5),bottomRightInner:l(r+Math.min(b,i-n[3].width),o+Math.min(v,a+n[0].width),Math.max(0,h-n[1].width),p-n[2].width).bottomRight.subdivide(.5),bottomLeftOuter:l(r,o+w,f,g).bottomLeft.subdivide(.5),bottomLeftInner:l(r+n[3].width,o+w,Math.max(0,f-n[3].width),g-n[2].width).bottomLeft.subdivide(.5)}}function u(t,e,n,r){var o=function(t,e,n){return{x:t.x+(e.x-t.x)*n,y:t.y+(e.y-t.y)*n}};return{start:t,startControl:e,endControl:n,end:r,subdivide:function(i){var a=o(t,e,i),s=o(e,n,i),l=o(n,r,i),c=o(a,s,i),d=o(s,l,i),h=o(c,d,i);return[u(t,a,c,h),u(h,d,l,r)]},curveTo:function(t){t.push(["bezierCurve",e.x,e.y,n.x,n.y,r.x,r.y])},curveToReversed:function(r){r.push(["bezierCurve",n.x,n.y,e.x,e.y,t.x,t.y])}}}function d(t,e,n,r,o,i,a){var s=[];return e[0]>0||e[1]>0?(s.push(["line",r[1].start.x,r[1].start.y]),r[1].curveTo(s)):s.push(["line",t.c1[0],t.c1[1]]),n[0]>0||n[1]>0?(s.push(["line",i[0].start.x,i[0].start.y]),i[0].curveTo(s),s.push(["line",a[0].end.x,a[0].end.y]),a[0].curveToReversed(s)):(s.push(["line",t.c2[0],t.c2[1]]),s.push(["line",t.c3[0],t.c3[1]])),e[0]>0||e[1]>0?(s.push(["line",o[1].end.x,o[1].end.y]),o[1].curveToReversed(s)):s.push(["line",t.c4[0],t.c4[1]]),s}function h(t,e,n,r,o,i,a){e[0]>0||e[1]>0?(t.push(["line",r[0].start.x,r[0].start.y]),r[0].curveTo(t),r[1].curveTo(t)):t.push(["line",i,a]),(n[0]>0||n[1]>0)&&t.push(["line",o[0].start.x,o[0].start.y])}function p(t){return t.cssInt("zIndex")<0}function f(t){return t.cssInt("zIndex")>0}function g(t){return 0===t.cssInt("zIndex")}function m(t){return-1!==["inline","inline-block","inline-table"].indexOf(t.css("display"))}function y(t){return t instanceof Y}function v(t){return t.node.data.trim().length>0}function b(t){return/^(normal|none|0px)$/.test(t.parent.css("letterSpacing"))}function w(t){return["TopLeft","TopRight","BottomRight","BottomLeft"].map(function(e){var n=t.css("border"+e+"Radius"),r=n.split(" ");return r.length<=1&&(r[1]=r[0]),r.map(O)})}function x(t){return t.nodeType===Node.TEXT_NODE||t.nodeType===Node.ELEMENT_NODE}function T(t){var e=t.css("position"),n=-1!==["absolute","relative","fixed"].indexOf(e)?t.css("zIndex"):"auto";return"auto"!==n}function S(t){return"static"!==t.css("position")}function E(t){return"none"!==t.css("float")}function C(t){return-1!==["inline-block","inline-table"].indexOf(t.css("display"))}function L(t){var e=this;return function(){return!t.apply(e,arguments)}}function k(t){return t.node.nodeType===Node.ELEMENT_NODE}function P(t){return t.isPseudoElement===!0}function M(t){return t.node.nodeType===Node.TEXT_NODE}function I(t){return function(e,n){return e.cssInt("zIndex")+t.indexOf(e)/t.length-(n.cssInt("zIndex")+t.indexOf(n)/t.length)}}function A(t){return t.getOpacity()<1}function O(t){return parseInt(t,10)}function R(t){return t.width}function N(t){return t.node.nodeType!==Node.ELEMENT_NODE||-1===["SCRIPT","HEAD","TITLE","OBJECT","BR","OPTION"].indexOf(t.node.nodeName)}function V(t){return[].concat.apply([],t)}function _(t){var e=t.substr(0,1);return e===t.substr(t.length-1)&&e.match(/'|"/)?t.substr(1,t.length-2):t}function H(t){for(var e,n=[],r=0,o=!1;t.length;)F(t[r])===o?(e=t.splice(0,r),e.length&&n.push(D.ucs2.encode(e)),o=!o,r=0):r++,r>=t.length&&(e=t.splice(0,r),e.length&&n.push(D.ucs2.encode(e)));return n}function F(t){return-1!==[32,13,10,9,45].indexOf(t)}function B(t){return/[^\u0000-\u00ff]/.test(t)}var j=t("./log"),D=t("punycode"),G=t("./nodecontainer"),z=t("./textcontainer"),W=t("./pseudoelementcontainer"),q=t("./fontmetrics"),U=t("./color"),X=t("./promise"),Y=t("./stackingcontext"),$=t("./utils"),Q=$.bind,Z=$.getBounds,J=$.parseBackgrounds,K=$.offsetBounds;r.prototype.calculateOverflowClips=function(){this.nodes.forEach(function(t){if(k(t)){P(t)&&t.appendToDOM(),t.borders=this.parseBorders(t);var e="hidden"===t.css("overflow")?[t.borders.clip]:[],n=t.parseClip();n&&-1!==["absolute","fixed"].indexOf(t.css("position"))&&e.push([["rect",t.bounds.left+n.left,t.bounds.top+n.top,n.right-n.left,n.bottom-n.top]]),t.clip=o(t)?t.parent.clip.concat(e):e,t.backgroundClip="hidden"!==t.css("overflow")?t.clip.concat([t.borders.clip]):t.clip,P(t)&&t.cleanDOM()}else M(t)&&(t.clip=o(t)?t.parent.clip:[]);P(t)||(t.bounds=null)},this)},r.prototype.asyncRenderer=function(t,e,n){n=n||Date.now(),this.paint(t[this.renderIndex++]),t.length===this.renderIndex?e():n+20>Date.now()?this.asyncRenderer(t,e,n):setTimeout(Q(function(){this.asyncRenderer(t,e)},this),0)},r.prototype.createPseudoHideStyles=function(t){this.createStyles(t,"."+W.prototype.PSEUDO_HIDE_ELEMENT_CLASS_BEFORE+':before { content: "" !important; display: none !important; }.'+W.prototype.PSEUDO_HIDE_ELEMENT_CLASS_AFTER+':after { content: "" !important; display: none !important; }')},r.prototype.disableAnimations=function(t){this.createStyles(t,"* { -webkit-animation: none !important; -moz-animation: none !important; -o-animation: none !important; animation: none !important; -webkit-transition: none !important; -moz-transition: none !important; -o-transition: none !important; transition: none !important;}")},r.prototype.createStyles=function(t,e){var n=t.createElement("style");n.innerHTML=e,t.body.appendChild(n)},r.prototype.getPseudoElements=function(t){var e=[[t]];if(t.node.nodeType===Node.ELEMENT_NODE){var n=this.getPseudoElement(t,":before"),r=this.getPseudoElement(t,":after");n&&e.push(n),r&&e.push(r)}return V(e)},r.prototype.getPseudoElement=function(t,e){var n=t.computedStyle(e);if(!n||!n.content||"none"===n.content||"-moz-alt-content"===n.content||"none"===n.display)return null;for(var r=_(n.content),o="url"===r.substr(0,3),a=document.createElement(o?"img":"html2canvaspseudoelement"),s=new W(a,t,e),l=n.length-1;l>=0;l--){var c=i(n.item(l));a.style[c]=n[c]}if(a.className=W.prototype.PSEUDO_HIDE_ELEMENT_CLASS_BEFORE+" "+W.prototype.PSEUDO_HIDE_ELEMENT_CLASS_AFTER,o)return a.src=J(r)[0].args[0],[s];var u=document.createTextNode(r);return a.appendChild(u),[s,new z(u,s)]},r.prototype.getChildren=function(t){return V([].filter.call(t.node.childNodes,x).map(function(e){var n=[e.nodeType===Node.TEXT_NODE?new z(e,t):new G(e,t)].filter(N);return e.nodeType===Node.ELEMENT_NODE&&n.length&&"TEXTAREA"!==e.tagName?n[0].isElementVisible()?n.concat(this.getChildren(n[0])):[]:n},this))},r.prototype.newStackingContext=function(t,e){var n=new Y(e,t.getOpacity(),t.node,t.parent);t.cloneTo(n);var r=e?n.getParentStack(this):n.parent.stack;r.contexts.push(n),t.stack=n},r.prototype.createStackingContexts=function(){this.nodes.forEach(function(t){k(t)&&(this.isRootElement(t)||A(t)||T(t)||this.isBodyWithTransparentRoot(t)||t.hasTransform())?this.newStackingContext(t,!0):k(t)&&(S(t)&&g(t)||C(t)||E(t))?this.newStackingContext(t,!1):t.assignStack(t.parent.stack)},this)},r.prototype.isBodyWithTransparentRoot=function(t){return"BODY"===t.node.nodeName&&t.parent.color("backgroundColor").isTransparent()},r.prototype.isRootElement=function(t){return null===t.parent},r.prototype.sortStackingContexts=function(t){t.contexts.sort(I(t.contexts.slice(0))),t.contexts.forEach(this.sortStackingContexts,this)},r.prototype.parseTextBounds=function(t){return function(e,n,r){if("none"!==t.parent.css("textDecoration").substr(0,4)||0!==e.trim().length){if(this.support.rangeBounds&&!t.parent.hasTransform()){var o=r.slice(0,n).join("").length;return this.getRangeBounds(t.node,o,e.length)}if(t.node&&"string"==typeof t.node.data){var i=t.node.splitText(e.length),a=this.getWrapperBounds(t.node,t.parent.hasTransform());return t.node=i,a}}else(!this.support.rangeBounds||t.parent.hasTransform())&&(t.node=t.node.splitText(e.length));return{}}},r.prototype.getWrapperBounds=function(t,e){var n=t.ownerDocument.createElement("html2canvaswrapper"),r=t.parentNode,o=t.cloneNode(!0);n.appendChild(t.cloneNode(!0)),r.replaceChild(n,t);var i=e?K(n):Z(n);return r.replaceChild(o,n),i},r.prototype.getRangeBounds=function(t,e,n){var r=this.range||(this.range=t.ownerDocument.createRange());return r.setStart(t,e),r.setEnd(t,e+n),r.getBoundingClientRect()},r.prototype.parse=function(t){var e=t.contexts.filter(p),n=t.children.filter(k),r=n.filter(L(E)),o=r.filter(L(S)).filter(L(m)),i=n.filter(L(S)).filter(E),s=r.filter(L(S)).filter(m),l=t.contexts.concat(r.filter(S)).filter(g),c=t.children.filter(M).filter(v),u=t.contexts.filter(f);e.concat(o).concat(i).concat(s).concat(l).concat(c).concat(u).forEach(function(t){this.renderQueue.push(t),y(t)&&(this.parse(t),this.renderQueue.push(new a))},this)},r.prototype.paint=function(t){try{t instanceof a?this.renderer.ctx.restore():M(t)?(P(t.parent)&&t.parent.appendToDOM(),this.paintText(t),P(t.parent)&&t.parent.cleanDOM()):this.paintNode(t)}catch(e){if(j(e),this.options.strict)throw e}},r.prototype.paintNode=function(t){y(t)&&(this.renderer.setOpacity(t.opacity),this.renderer.ctx.save(),t.hasTransform()&&this.renderer.setTransform(t.parseTransform())),"INPUT"===t.node.nodeName&&"checkbox"===t.node.type?this.paintCheckbox(t):"INPUT"===t.node.nodeName&&"radio"===t.node.type?this.paintRadio(t):this.paintElement(t)},r.prototype.paintElement=function(t){var e=t.parseBounds();this.renderer.clip(t.backgroundClip,function(){this.renderer.renderBackground(t,e,t.borders.borders.map(R))},this),this.renderer.clip(t.clip,function(){this.renderer.renderBorders(t.borders.borders)},this),this.renderer.clip(t.backgroundClip,function(){switch(t.node.nodeName){case"svg":case"IFRAME":var n=this.images.get(t.node);n?this.renderer.renderImage(t,e,t.borders,n):j("Error loading <"+t.node.nodeName+">",t.node);break;case"IMG":var r=this.images.get(t.node.src);r?this.renderer.renderImage(t,e,t.borders,r):j("Error loading <img>",t.node.src);break;case"CANVAS":this.renderer.renderImage(t,e,t.borders,{image:t.node});break;case"SELECT":case"INPUT":case"TEXTAREA":this.paintFormValue(t)}},this)},r.prototype.paintCheckbox=function(t){var e=t.parseBounds(),n=Math.min(e.width,e.height),r={width:n-1,height:n-1,top:e.top,left:e.left},o=[3,3],i=[o,o,o,o],a=[1,1,1,1].map(function(t){return{color:new U("#A5A5A5"),width:t}}),l=c(r,i,a);this.renderer.clip(t.backgroundClip,function(){this.renderer.rectangle(r.left+1,r.top+1,r.width-2,r.height-2,new U("#DEDEDE")),this.renderer.renderBorders(s(a,r,l,i)),t.node.checked&&(this.renderer.font(new U("#424242"),"normal","normal","bold",n-3+"px","arial"),this.renderer.text("✔",r.left+n/6,r.top+n-1))},this)},r.prototype.paintRadio=function(t){var e=t.parseBounds(),n=Math.min(e.width,e.height)-2;this.renderer.clip(t.backgroundClip,function(){this.renderer.circleStroke(e.left+1,e.top+1,n,new U("#DEDEDE"),1,new U("#A5A5A5")),t.node.checked&&this.renderer.circle(Math.ceil(e.left+n/4)+1,Math.ceil(e.top+n/4)+1,Math.floor(n/2),new U("#424242"))},this)},r.prototype.paintFormValue=function(t){var e=t.getValue();if(e.length>0){var n=t.node.ownerDocument,r=n.createElement("html2canvaswrapper"),o=["lineHeight","textAlign","fontFamily","fontWeight","fontSize","color","paddingLeft","paddingTop","paddingRight","paddingBottom","width","height","borderLeftStyle","borderTopStyle","borderLeftWidth","borderTopWidth","boxSizing","whiteSpace","wordWrap"];o.forEach(function(e){try{r.style[e]=t.css(e)}catch(n){j("html2canvas: Parse: Exception caught in renderFormValue: "+n.message)}});var i=t.parseBounds();r.style.position="fixed",r.style.left=i.left+"px",r.style.top=i.top+"px",r.textContent=e,n.body.appendChild(r),this.paintText(new z(r.firstChild,t)),n.body.removeChild(r)}},r.prototype.paintText=function(t){t.applyTextTransform();var e=D.ucs2.decode(t.node.data),n=this.options.letterRendering&&!b(t)||B(t.node.data)?e.map(function(t){return D.ucs2.encode([t])}):H(e),r=t.parent.fontWeight(),o=t.parent.css("fontSize"),i=t.parent.css("fontFamily"),a=t.parent.parseTextShadows();this.renderer.font(t.parent.color("color"),t.parent.css("fontStyle"),t.parent.css("fontVariant"),r,o,i),a.length?this.renderer.fontShadow(a[0].color,a[0].offsetX,a[0].offsetY,a[0].blur):this.renderer.clearShadow(),this.renderer.clip(t.parent.clip,function(){n.map(this.parseTextBounds(t),this).forEach(function(e,r){e&&(this.renderer.text(n[r],e.left,e.bottom),this.renderTextDecoration(t.parent,e,this.fontMetrics.getMetrics(i,o)))},this)},this)},r.prototype.renderTextDecoration=function(t,e,n){switch(t.css("textDecoration").split(" ")[0]){case"underline":this.renderer.rectangle(e.left,Math.round(e.top+n.baseline+n.lineWidth),e.width,1,t.color("color"));break;case"overline":this.renderer.rectangle(e.left,Math.round(e.top),e.width,1,t.color("color"));break;case"line-through":this.renderer.rectangle(e.left,Math.ceil(e.top+n.middle+n.lineWidth),e.width,1,t.color("color"))}};var tt={inset:[["darken",.6],["darken",.1],["darken",.1],["darken",.6]]};r.prototype.parseBorders=function(t){var e=t.parseBounds(),n=w(t),r=["Top","Right","Bottom","Left"].map(function(e,n){var r=t.css("border"+e+"Style"),o=t.color("border"+e+"Color");"inset"===r&&o.isBlack()&&(o=new U([255,255,255,o.a]));var i=tt[r]?tt[r][n]:null;return{width:t.cssInt("border"+e+"Width"),color:i?o[i[0]](i[1]):o,args:null}}),o=c(e,n,r);return{clip:this.parseBackgroundClip(t,o,r,n,e),borders:s(r,e,o,n)}},r.prototype.parseBackgroundClip=function(t,e,n,r,o){var i=t.css("backgroundClip"),a=[];switch(i){case"content-box":case"padding-box":h(a,r[0],r[1],e.topLeftInner,e.topRightInner,o.left+n[3].width,o.top+n[0].width),h(a,r[1],r[2],e.topRightInner,e.bottomRightInner,o.left+o.width-n[1].width,o.top+n[0].width),h(a,r[2],r[3],e.bottomRightInner,e.bottomLeftInner,o.left+o.width-n[1].width,o.top+o.height-n[2].width),h(a,r[3],r[0],e.bottomLeftInner,e.topLeftInner,o.left+n[3].width,o.top+o.height-n[2].width);break;default:h(a,r[0],r[1],e.topLeftOuter,e.topRightOuter,o.left,o.top),h(a,r[1],r[2],e.topRightOuter,e.bottomRightOuter,o.left+o.width,o.top),h(a,r[2],r[3],e.bottomRightOuter,e.bottomLeftOuter,o.left+o.width,o.top+o.height),h(a,r[3],r[0],e.bottomLeftOuter,e.topLeftOuter,o.left,o.top+o.height)}return a},e.exports=r},{"./color":5,"./fontmetrics":9,"./log":15,"./nodecontainer":16,"./promise":18,"./pseudoelementcontainer":21,"./stackingcontext":24,"./textcontainer":28,"./utils":29,punycode:3}],18:[function(t,e,n){e.exports=t("es6-promise").Promise},{"es6-promise":1}],19:[function(t,e,n){function r(t,e,n){var r="withCredentials"in new XMLHttpRequest;if(!e)return u.reject("No proxy configured");var o=a(r),l=s(e,t,o);return r?d(l):i(n,l,o).then(function(t){return g(t.content)})}function o(t,e,n){var r="crossOrigin"in new Image,o=a(r),l=s(e,t,o);return r?u.resolve(l):i(n,l,o).then(function(t){return"data:"+t.type+";base64,"+t.content})}function i(t,e,n){return new u(function(r,o){var i=t.createElement("script"),a=function(){delete window.html2canvas.proxy[n],t.body.removeChild(i)};window.html2canvas.proxy[n]=function(t){a(),r(t)},i.src=e,i.onerror=function(t){a(),o(t)},t.body.appendChild(i)})}function a(t){return t?"":"html2canvas_"+Date.now()+"_"+ ++m+"_"+Math.round(1e5*Math.random())}function s(t,e,n){return t+"?url="+encodeURIComponent(e)+(n.length?"&callback=html2canvas.proxy."+n:"")}function l(t){return function(e){var n,r=new DOMParser;try{n=r.parseFromString(e,"text/html")}catch(o){p("DOMParser not supported, falling back to createHTMLDocument"),n=document.implementation.createHTMLDocument("");try{n.open(),n.write(e),n.close()}catch(i){p("createHTMLDocument write not supported, falling back to document.body.innerHTML"),n.body.innerHTML=e}}var a=n.querySelector("base");if(!a||!a.href.host){var s=n.createElement("base");s.href=t,n.head.insertBefore(s,n.head.firstChild)}return n}}function c(t,e,n,o,i,a){return new r(t,e,window.document).then(l(t)).then(function(t){return f(t,n,o,i,a,0,0)})}var u=t("./promise"),d=t("./xhr"),h=t("./utils"),p=t("./log"),f=t("./clone"),g=h.decode64,m=0;n.Proxy=r,n.ProxyURL=o,n.loadUrlDocument=c},{"./clone":4,"./log":15,"./promise":18,"./utils":29,"./xhr":31}],20:[function(t,e,n){function r(t,e){var n=document.createElement("a");n.href=t,t=n.href,this.src=t,this.image=new Image;var r=this;this.promise=new i(function(n,i){r.image.crossOrigin="Anonymous",r.image.onload=n,r.image.onerror=i,new o(t,e,document).then(function(t){r.image.src=t})["catch"](i)})}var o=t("./proxy").ProxyURL,i=t("./promise");e.exports=r},{"./promise":18,"./proxy":19}],21:[function(t,e,n){function r(t,e,n){o.call(this,t,e),this.isPseudoElement=!0,this.before=":before"===n}var o=t("./nodecontainer");r.prototype.cloneTo=function(t){r.prototype.cloneTo.call(this,t),t.isPseudoElement=!0,t.before=this.before},r.prototype=Object.create(o.prototype),r.prototype.appendToDOM=function(){this.before?this.parent.node.insertBefore(this.node,this.parent.node.firstChild):this.parent.node.appendChild(this.node),this.parent.node.className+=" "+this.getHideClass()},r.prototype.cleanDOM=function(){this.node.parentNode.removeChild(this.node),this.parent.node.className=this.parent.node.className.replace(this.getHideClass(),"")},r.prototype.getHideClass=function(){return this["PSEUDO_HIDE_ELEMENT_CLASS_"+(this.before?"BEFORE":"AFTER")]},r.prototype.PSEUDO_HIDE_ELEMENT_CLASS_BEFORE="___html2canvas___pseudoelement_before",r.prototype.PSEUDO_HIDE_ELEMENT_CLASS_AFTER="___html2canvas___pseudoelement_after",e.exports=r},{"./nodecontainer":16}],22:[function(t,e,n){function r(t,e,n,r,o){this.width=t,this.height=e,this.images=n,this.options=r,this.document=o}var o=t("./log");r.prototype.renderImage=function(t,e,n,r){var o=t.cssInt("paddingLeft"),i=t.cssInt("paddingTop"),a=t.cssInt("paddingRight"),s=t.cssInt("paddingBottom"),l=n.borders,c=e.width-(l[1].width+l[3].width+o+a),u=e.height-(l[0].width+l[2].width+i+s);this.drawImage(r,0,0,Math.round(r.image.width||c),Math.round(r.image.height||u),Math.round(e.left+o+l[3].width),Math.round(e.top+i+l[0].width),c,u)},r.prototype.renderBackground=function(t,e,n){e.height>0&&e.width>0&&(this.renderBackgroundColor(t,e),this.renderBackgroundImage(t,e,n))},r.prototype.renderBackgroundColor=function(t,e){var n=t.color("backgroundColor");n.isTransparent()||this.rectangle(e.left,e.top,e.width,e.height,n)},r.prototype.renderBorders=function(t){t.forEach(this.renderBorder,this)},r.prototype.renderBorder=function(t){t.color.isTransparent()||null===t.args||this.drawShape(t.args,t.color)},r.prototype.renderBackgroundImage=function(t,e,n){var r=t.parseBackgroundImages();r.reverse().forEach(function(r,i,a){switch(r.method){case"url":var s=this.images.get(r.args[0]);s?this.renderBackgroundRepeating(t,e,s,a.length-(i+1),n):o("Error loading background-image",r.args[0]);break;case"linear-gradient":case"gradient":var l=this.images.get(r.value);l?this.renderBackgroundGradient(l,e,n):o("Error loading background-image",r.args[0]);break;case"none":break;default:o("Unknown background-image type",r.args[0])}},this)},r.prototype.renderBackgroundRepeating=function(t,e,n,r,o){var i=t.parseBackgroundSize(e,n.image,r),a=t.parseBackgroundPosition(e,n.image,r,i),s=t.parseBackgroundRepeat(r);switch(s){case"repeat-x":case"repeat no-repeat":this.backgroundRepeatShape(n,a,i,e,e.left+o[3],e.top+a.top+o[0],99999,i.height,o);break;case"repeat-y":case"no-repeat repeat":this.backgroundRepeatShape(n,a,i,e,e.left+a.left+o[3],e.top+o[0],i.width,99999,o);break;case"no-repeat":this.backgroundRepeatShape(n,a,i,e,e.left+a.left+o[3],e.top+a.top+o[0],i.width,i.height,o);break;default:this.renderBackgroundRepeat(n,a,i,{top:e.top,left:e.left},o[3],o[0])}},e.exports=r},{"./log":15}],23:[function(t,e,n){function r(t,e){i.apply(this,arguments),this.canvas=this.options.canvas||this.document.createElement("canvas"),this.options.canvas||(this.canvas.width=t,this.canvas.height=e),this.ctx=this.canvas.getContext("2d"),this.taintCtx=this.document.createElement("canvas").getContext("2d"),this.ctx.textBaseline="bottom",this.variables={},s("Initialized CanvasRenderer with size",t,"x",e)}function o(t){return t.length>0}var i=t("../renderer"),a=t("../lineargradientcontainer"),s=t("../log");r.prototype=Object.create(i.prototype),r.prototype.setFillStyle=function(t){return this.ctx.fillStyle="object"==typeof t&&t.isColor?t.toString():t,this.ctx},r.prototype.rectangle=function(t,e,n,r,o){this.setFillStyle(o).fillRect(t,e,n,r)},r.prototype.circle=function(t,e,n,r){this.setFillStyle(r),this.ctx.beginPath(),this.ctx.arc(t+n/2,e+n/2,n/2,0,2*Math.PI,!0),this.ctx.closePath(),this.ctx.fill()},r.prototype.circleStroke=function(t,e,n,r,o,i){this.circle(t,e,n,r),this.ctx.strokeStyle=i.toString(),this.ctx.stroke()},r.prototype.drawShape=function(t,e){this.shape(t),this.setFillStyle(e).fill()},r.prototype.taints=function(t){if(null===t.tainted){this.taintCtx.drawImage(t.image,0,0);try{this.taintCtx.getImageData(0,0,1,1),t.tainted=!1}catch(e){this.taintCtx=document.createElement("canvas").getContext("2d"),t.tainted=!0}}return t.tainted},r.prototype.drawImage=function(t,e,n,r,o,i,a,s,l){(!this.taints(t)||this.options.allowTaint)&&this.ctx.drawImage(t.image,e,n,r,o,i,a,s,l)},r.prototype.clip=function(t,e,n){this.ctx.save(),t.filter(o).forEach(function(t){this.shape(t).clip()},this),e.call(n),this.ctx.restore()},r.prototype.shape=function(t){return this.ctx.beginPath(),t.forEach(function(t,e){"rect"===t[0]?this.ctx.rect.apply(this.ctx,t.slice(1)):this.ctx[0===e?"moveTo":t[0]+"To"].apply(this.ctx,t.slice(1))},this),this.ctx.closePath(),this.ctx},r.prototype.font=function(t,e,n,r,o,i){this.setFillStyle(t).font=[e,n,r,o,i].join(" ").split(",")[0]},r.prototype.fontShadow=function(t,e,n,r){this.setVariable("shadowColor",t.toString()).setVariable("shadowOffsetY",e).setVariable("shadowOffsetX",n).setVariable("shadowBlur",r)},r.prototype.clearShadow=function(){this.setVariable("shadowColor","rgba(0,0,0,0)")},r.prototype.setOpacity=function(t){this.ctx.globalAlpha=t},r.prototype.setTransform=function(t){this.ctx.translate(t.origin[0],t.origin[1]),this.ctx.transform.apply(this.ctx,t.matrix),this.ctx.translate(-t.origin[0],-t.origin[1])},r.prototype.setVariable=function(t,e){return this.variables[t]!==e&&(this.variables[t]=this.ctx[t]=e),this},r.prototype.text=function(t,e,n){this.ctx.fillText(t,e,n)},r.prototype.backgroundRepeatShape=function(t,e,n,r,o,i,a,s,l){var c=[["line",Math.round(o),Math.round(i)],["line",Math.round(o+a),Math.round(i)],["line",Math.round(o+a),Math.round(s+i)],["line",Math.round(o),Math.round(s+i)]];this.clip([c],function(){this.renderBackgroundRepeat(t,e,n,r,l[3],l[0])},this)},r.prototype.renderBackgroundRepeat=function(t,e,n,r,o,i){var a=Math.round(r.left+e.left+o),s=Math.round(r.top+e.top+i);this.setFillStyle(this.ctx.createPattern(this.resizeImage(t,n),"repeat")),this.ctx.translate(a,s),this.ctx.fill(),this.ctx.translate(-a,-s)},r.prototype.renderBackgroundGradient=function(t,e){if(t instanceof a){var n=this.ctx.createLinearGradient(e.left+e.width*t.x0,e.top+e.height*t.y0,e.left+e.width*t.x1,e.top+e.height*t.y1);t.colorStops.forEach(function(t){n.addColorStop(t.stop,t.color.toString())}),this.rectangle(e.left,e.top,e.width,e.height,n)}},r.prototype.resizeImage=function(t,e){var n=t.image;if(n.width===e.width&&n.height===e.height)return n;var r,o=document.createElement("canvas");return o.width=e.width,o.height=e.height,r=o.getContext("2d"),r.drawImage(n,0,0,n.width,n.height,0,0,e.width,e.height),o},e.exports=r},{"../lineargradientcontainer":14,"../log":15,"../renderer":22}],24:[function(t,e,n){function r(t,e,n,r){o.call(this,n,r),this.ownStacking=t,this.contexts=[],this.children=[],this.opacity=(this.parent?this.parent.stack.opacity:1)*e}var o=t("./nodecontainer");r.prototype=Object.create(o.prototype),r.prototype.getParentStack=function(t){var e=this.parent?this.parent.stack:null;return e?e.ownStacking?e:e.getParentStack(t):t.stack},e.exports=r},{"./nodecontainer":16}],25:[function(t,e,n){function r(t){this.rangeBounds=this.testRangeBounds(t),this.cors=this.testCORS(),this.svg=this.testSVG()}r.prototype.testRangeBounds=function(t){var e,n,r,o,i=!1;return t.createRange&&(e=t.createRange(),e.getBoundingClientRect&&(n=t.createElement("boundtest"),n.style.height="123px",n.style.display="block",t.body.appendChild(n),e.selectNode(n),r=e.getBoundingClientRect(),o=r.height,123===o&&(i=!0),t.body.removeChild(n))),i},r.prototype.testCORS=function(){return"undefined"!=typeof(new Image).crossOrigin},r.prototype.testSVG=function(){var t=new Image,e=document.createElement("canvas"),n=e.getContext("2d");t.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{n.drawImage(t,0,0),e.toDataURL()}catch(r){return!1}return!0},e.exports=r},{}],26:[function(t,e,n){function r(t){this.src=t,this.image=null;var e=this;this.promise=this.hasFabric().then(function(){return e.isInline(t)?o.resolve(e.inlineFormatting(t)):i(t)}).then(function(t){return new o(function(n){window.html2canvas.svg.fabric.loadSVGFromString(t,e.createCanvas.call(e,n))})})}var o=t("./promise"),i=t("./xhr"),a=t("./utils").decode64;r.prototype.hasFabric=function(){return window.html2canvas.svg&&window.html2canvas.svg.fabric?o.resolve():o.reject(new Error("html2canvas.svg.js is not loaded, cannot render svg"))},r.prototype.inlineFormatting=function(t){return/^data:image\/svg\+xml;base64,/.test(t)?this.decode64(this.removeContentType(t)):this.removeContentType(t)},r.prototype.removeContentType=function(t){return t.replace(/^data:image\/svg\+xml(;base64)?,/,"")},r.prototype.isInline=function(t){return/^data:image\/svg\+xml/i.test(t)},r.prototype.createCanvas=function(t){var e=this;return function(n,r){var o=new window.html2canvas.svg.fabric.StaticCanvas("c");e.image=o.lowerCanvasEl,o.setWidth(r.width).setHeight(r.height).add(window.html2canvas.svg.fabric.util.groupSVGElements(n,r)).renderAll(),
t(o.lowerCanvasEl)}},r.prototype.decode64=function(t){return"function"==typeof window.atob?window.atob(t):a(t)},e.exports=r},{"./promise":18,"./utils":29,"./xhr":31}],27:[function(t,e,n){function r(t,e){this.src=t,this.image=null;var n=this;this.promise=e?new i(function(e,r){n.image=new Image,n.image.onload=e,n.image.onerror=r,n.image.src="data:image/svg+xml,"+(new XMLSerializer).serializeToString(t),n.image.complete===!0&&e(n.image)}):this.hasFabric().then(function(){return new i(function(e){window.html2canvas.svg.fabric.parseSVGDocument(t,n.createCanvas.call(n,e))})})}var o=t("./svgcontainer"),i=t("./promise");r.prototype=Object.create(o.prototype),e.exports=r},{"./promise":18,"./svgcontainer":26}],28:[function(t,e,n){function r(t,e){i.call(this,t,e)}function o(t,e,n){return t.length>0?e+n.toUpperCase():void 0}var i=t("./nodecontainer");r.prototype=Object.create(i.prototype),r.prototype.applyTextTransform=function(){this.node.data=this.transform(this.parent.css("textTransform"))},r.prototype.transform=function(t){var e=this.node.data;switch(t){case"lowercase":return e.toLowerCase();case"capitalize":return e.replace(/(^|\s|:|-|\(|\))([a-z])/g,o);case"uppercase":return e.toUpperCase();default:return e}},e.exports=r},{"./nodecontainer":16}],29:[function(t,e,n){n.smallImage=function(){return"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"},n.bind=function(t,e){return function(){return t.apply(e,arguments)}},n.decode64=function(t){var e,n,r,o,i,a,s,l,c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",u=t.length,d="";for(e=0;u>e;e+=4)n=c.indexOf(t[e]),r=c.indexOf(t[e+1]),o=c.indexOf(t[e+2]),i=c.indexOf(t[e+3]),a=n<<2|r>>4,s=(15&r)<<4|o>>2,l=(3&o)<<6|i,d+=64===o?String.fromCharCode(a):64===i||-1===i?String.fromCharCode(a,s):String.fromCharCode(a,s,l);return d},n.getBounds=function(t){if(t.getBoundingClientRect){var e=t.getBoundingClientRect(),n=null==t.offsetWidth?e.width:t.offsetWidth;return{top:e.top,bottom:e.bottom||e.top+e.height,right:e.left+n,left:e.left,width:n,height:null==t.offsetHeight?e.height:t.offsetHeight}}return{}},n.offsetBounds=function(t){var e=t.offsetParent?n.offsetBounds(t.offsetParent):{top:0,left:0};return{top:t.offsetTop+e.top,bottom:t.offsetTop+t.offsetHeight+e.top,right:t.offsetLeft+e.left+t.offsetWidth,left:t.offsetLeft+e.left,width:t.offsetWidth,height:t.offsetHeight}},n.parseBackgrounds=function(t){var e,n,r,o,i,a,s,l=" \r\n	",c=[],u=0,d=0,h=function(){e&&('"'===n.substr(0,1)&&(n=n.substr(1,n.length-2)),n&&s.push(n),"-"===e.substr(0,1)&&(o=e.indexOf("-",1)+1)>0&&(r=e.substr(0,o),e=e.substr(o)),c.push({prefix:r,method:e.toLowerCase(),value:i,args:s,image:null})),s=[],e=r=n=i=""};return s=[],e=r=n=i="",t.split("").forEach(function(t){if(!(0===u&&l.indexOf(t)>-1)){switch(t){case'"':a?a===t&&(a=null):a=t;break;case"(":if(a)break;if(0===u)return u=1,void(i+=t);d++;break;case")":if(a)break;if(1===u){if(0===d)return u=0,i+=t,void h();d--}break;case",":if(a)break;if(0===u)return void h();if(1===u&&0===d&&!e.match(/^url$/i))return s.push(n),n="",void(i+=t)}i+=t,0===u?e+=t:n+=t}}),h(),c}},{}],30:[function(t,e,n){function r(t){o.apply(this,arguments),this.type="linear"===t.args[0]?this.TYPES.LINEAR:this.TYPES.RADIAL}var o=t("./gradientcontainer");r.prototype=Object.create(o.prototype),e.exports=r},{"./gradientcontainer":11}],31:[function(t,e,n){function r(t){return new o(function(e,n){var r=new XMLHttpRequest;r.open("GET",t),r.onload=function(){200===r.status?e(r.responseText):n(new Error(r.statusText))},r.onerror=function(){n(new Error("Network Error"))},r.send()})}var o=t("./promise");e.exports=r},{"./promise":18}]},{},[6])(6)}),function(t){function e(t){var e=t.length,r=n.type(t);return"function"===r||n.isWindow(t)?!1:1===t.nodeType&&e?!0:"array"===r||0===e||"number"==typeof e&&e>0&&e-1 in t}if(!t.jQuery){var n=function(t,e){return new n.fn.init(t,e)};n.isWindow=function(t){return null!=t&&t==t.window},n.type=function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?o[a.call(t)]||"object":typeof t},n.isArray=Array.isArray||function(t){return"array"===n.type(t)},n.isPlainObject=function(t){var e;if(!t||"object"!==n.type(t)||t.nodeType||n.isWindow(t))return!1;try{if(t.constructor&&!i.call(t,"constructor")&&!i.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch(r){return!1}for(e in t);return void 0===e||i.call(t,e)},n.each=function(t,n,r){var o,i=0,a=t.length,s=e(t);if(r){if(s)for(;a>i&&(o=n.apply(t[i],r),o!==!1);i++);else for(i in t)if(o=n.apply(t[i],r),o===!1)break}else if(s)for(;a>i&&(o=n.call(t[i],i,t[i]),o!==!1);i++);else for(i in t)if(o=n.call(t[i],i,t[i]),o===!1)break;return t},n.data=function(t,e,o){if(void 0===o){var i=t[n.expando],a=i&&r[i];if(void 0===e)return a;if(a&&e in a)return a[e]}else if(void 0!==e){var i=t[n.expando]||(t[n.expando]=++n.uuid);return r[i]=r[i]||{},r[i][e]=o,o}},n.removeData=function(t,e){var o=t[n.expando],i=o&&r[o];i&&n.each(e,function(t,e){delete i[e]})},n.extend=function(){var t,e,r,o,i,a,s=arguments[0]||{},l=1,c=arguments.length,u=!1;for("boolean"==typeof s&&(u=s,s=arguments[l]||{},l++),"object"!=typeof s&&"function"!==n.type(s)&&(s={}),l===c&&(s=this,l--);c>l;l++)if(null!=(i=arguments[l]))for(o in i)t=s[o],r=i[o],s!==r&&(u&&r&&(n.isPlainObject(r)||(e=n.isArray(r)))?(e?(e=!1,a=t&&n.isArray(t)?t:[]):a=t&&n.isPlainObject(t)?t:{},s[o]=n.extend(u,a,r)):void 0!==r&&(s[o]=r));return s},n.queue=function(t,r,o){function i(t,n){var r=n||[];return null!=t&&(e(Object(t))?!function(t,e){for(var n=+e.length,r=0,o=t.length;n>r;)t[o++]=e[r++];if(n!==n)for(;void 0!==e[r];)t[o++]=e[r++];return t.length=o,t}(r,"string"==typeof t?[t]:t):[].push.call(r,t)),r}if(t){r=(r||"fx")+"queue";var a=n.data(t,r);return o?(!a||n.isArray(o)?a=n.data(t,r,i(o)):a.push(o),a):a||[]}},n.dequeue=function(t,e){n.each(t.nodeType?[t]:t,function(t,r){e=e||"fx";var o=n.queue(r,e),i=o.shift();"inprogress"===i&&(i=o.shift()),i&&("fx"===e&&o.unshift("inprogress"),i.call(r,function(){n.dequeue(r,e)}))})},n.fn=n.prototype={init:function(t){if(t.nodeType)return this[0]=t,this;throw new Error("Not a DOM node.")},offset:function(){var e=this[0].getBoundingClientRect?this[0].getBoundingClientRect():{top:0,left:0};return{top:e.top+(t.pageYOffset||document.scrollTop||0)-(document.clientTop||0),left:e.left+(t.pageXOffset||document.scrollLeft||0)-(document.clientLeft||0)}},position:function(){function t(){for(var t=this.offsetParent||document;t&&"html"===!t.nodeType.toLowerCase&&"static"===t.style.position;)t=t.offsetParent;return t||document}var e=this[0],t=t.apply(e),r=this.offset(),o=/^(?:body|html)$/i.test(t.nodeName)?{top:0,left:0}:n(t).offset();return r.top-=parseFloat(e.style.marginTop)||0,r.left-=parseFloat(e.style.marginLeft)||0,t.style&&(o.top+=parseFloat(t.style.borderTopWidth)||0,o.left+=parseFloat(t.style.borderLeftWidth)||0),{top:r.top-o.top,left:r.left-o.left}}};var r={};n.expando="velocity"+(new Date).getTime(),n.uuid=0;for(var o={},i=o.hasOwnProperty,a=o.toString,s="Boolean Number String Function Array Date RegExp Object Error".split(" "),l=0;l<s.length;l++)o["[object "+s[l]+"]"]=s[l].toLowerCase();n.fn.init.prototype=n.fn,t.Velocity={Utilities:n}}}(window),function(t){"object"==typeof module&&"object"==typeof module.exports?module.exports=t():"function"==typeof define&&define.amd?define(t):t()}(function(){return function(t,e,n,r){function o(t){for(var e=-1,n=t?t.length:0,r=[];++e<n;){var o=t[e];o&&r.push(o)}return r}function i(t){return g.isWrapped(t)?t=[].slice.call(t):g.isNode(t)&&(t=[t]),t}function a(t){var e=h.data(t,"velocity");return null===e?r:e}function s(t){return function(e){return Math.round(e*t)*(1/t)}}function l(t,n,r,o){function i(t,e){return 1-3*e+3*t}function a(t,e){return 3*e-6*t}function s(t){return 3*t}function l(t,e,n){return((i(e,n)*t+a(e,n))*t+s(e))*t}function c(t,e,n){return 3*i(e,n)*t*t+2*a(e,n)*t+s(e)}function u(e,n){for(var o=0;g>o;++o){var i=c(n,t,r);if(0===i)return n;var a=l(n,t,r)-e;n-=a/i}return n}function d(){for(var e=0;b>e;++e)S[e]=l(e*w,t,r)}function h(e,n,o){var i,a,s=0;do a=n+(o-n)/2,i=l(a,t,r)-e,i>0?o=a:n=a;while(Math.abs(i)>y&&++s<v);return a}function p(e){for(var n=0,o=1,i=b-1;o!=i&&S[o]<=e;++o)n+=w;--o;var a=(e-S[o])/(S[o+1]-S[o]),s=n+a*w,l=c(s,t,r);return l>=m?u(e,s):0==l?s:h(e,n,n+w)}function f(){E=!0,(t!=n||r!=o)&&d()}var g=4,m=.001,y=1e-7,v=10,b=11,w=1/(b-1),x="Float32Array"in e;if(4!==arguments.length)return!1;for(var T=0;4>T;++T)if("number"!=typeof arguments[T]||isNaN(arguments[T])||!isFinite(arguments[T]))return!1;t=Math.min(t,1),r=Math.min(r,1),t=Math.max(t,0),r=Math.max(r,0);var S=x?new Float32Array(b):new Array(b),E=!1,C=function(e){return E||f(),t===n&&r===o?e:0===e?0:1===e?1:l(p(e),n,o)};C.getControlPoints=function(){return[{x:t,y:n},{x:r,y:o}]};var L="generateBezier("+[t,n,r,o]+")";return C.toString=function(){return L},C}function c(t,e){var n=t;return g.isString(t)?b.Easings[t]||(n=!1):n=g.isArray(t)&&1===t.length?s.apply(null,t):g.isArray(t)&&2===t.length?w.apply(null,t.concat([e])):g.isArray(t)&&4===t.length?l.apply(null,t):!1,n===!1&&(n=b.Easings[b.defaults.easing]?b.defaults.easing:v),n}function u(t){if(t){var e=(new Date).getTime(),n=b.State.calls.length;n>1e4&&(b.State.calls=o(b.State.calls));for(var i=0;n>i;i++)if(b.State.calls[i]){var s=b.State.calls[i],l=s[0],c=s[2],p=s[3],f=!!p,m=null;p||(p=b.State.calls[i][3]=e-16);for(var y=Math.min((e-p)/c.duration,1),v=0,w=l.length;w>v;v++){var T=l[v],E=T.element;if(a(E)){var C=!1;if(c.display!==r&&null!==c.display&&"none"!==c.display){if("flex"===c.display){var L=["-webkit-box","-moz-box","-ms-flexbox","-webkit-flex"];h.each(L,function(t,e){x.setPropertyValue(E,"display",e)})}x.setPropertyValue(E,"display",c.display)}c.visibility!==r&&"hidden"!==c.visibility&&x.setPropertyValue(E,"visibility",c.visibility);for(var k in T)if("element"!==k){var P,M=T[k],I=g.isString(M.easing)?b.Easings[M.easing]:M.easing;if(1===y)P=M.endValue;else{var A=M.endValue-M.startValue;if(P=M.startValue+A*I(y,c,A),!f&&P===M.currentValue)continue}if(M.currentValue=P,"tween"===k)m=P;else{if(x.Hooks.registered[k]){var O=x.Hooks.getRoot(k),R=a(E).rootPropertyValueCache[O];R&&(M.rootPropertyValue=R)}var N=x.setPropertyValue(E,k,M.currentValue+(0===parseFloat(P)?"":M.unitType),M.rootPropertyValue,M.scrollData);x.Hooks.registered[k]&&(x.Normalizations.registered[O]?a(E).rootPropertyValueCache[O]=x.Normalizations.registered[O]("extract",null,N[1]):a(E).rootPropertyValueCache[O]=N[1]),"transform"===N[0]&&(C=!0)}}c.mobileHA&&a(E).transformCache.translate3d===r&&(a(E).transformCache.translate3d="(0px, 0px, 0px)",C=!0),C&&x.flushTransformCache(E)}}c.display!==r&&"none"!==c.display&&(b.State.calls[i][2].display=!1),c.visibility!==r&&"hidden"!==c.visibility&&(b.State.calls[i][2].visibility=!1),c.progress&&c.progress.call(s[1],s[1],y,Math.max(0,p+c.duration-e),p,m),1===y&&d(i)}}b.State.isTicking&&S(u)}function d(t,e){if(!b.State.calls[t])return!1;for(var n=b.State.calls[t][0],o=b.State.calls[t][1],i=b.State.calls[t][2],s=b.State.calls[t][4],l=!1,c=0,u=n.length;u>c;c++){var d=n[c].element;if(e||i.loop||("none"===i.display&&x.setPropertyValue(d,"display",i.display),"hidden"===i.visibility&&x.setPropertyValue(d,"visibility",i.visibility)),i.loop!==!0&&(h.queue(d)[1]===r||!/\.velocityQueueEntryFlag/i.test(h.queue(d)[1]))&&a(d)){a(d).isAnimating=!1,a(d).rootPropertyValueCache={};var p=!1;h.each(x.Lists.transforms3D,function(t,e){var n=/^scale/.test(e)?1:0,o=a(d).transformCache[e];a(d).transformCache[e]!==r&&new RegExp("^\\("+n+"[^.]").test(o)&&(p=!0,delete a(d).transformCache[e])}),i.mobileHA&&(p=!0,delete a(d).transformCache.translate3d),p&&x.flushTransformCache(d),x.Values.removeClass(d,"velocity-animating")}if(!e&&i.complete&&!i.loop&&c===u-1)try{i.complete.call(o,o)}catch(f){setTimeout(function(){throw f},1)}s&&i.loop!==!0&&s(o),a(d)&&i.loop===!0&&!e&&(h.each(a(d).tweensContainer,function(t,e){/^rotate/.test(t)&&360===parseFloat(e.endValue)&&(e.endValue=0,e.startValue=360),/^backgroundPosition/.test(t)&&100===parseFloat(e.endValue)&&"%"===e.unitType&&(e.endValue=0,e.startValue=100)}),b(d,"reverse",{loop:!0,delay:i.delay})),i.queue!==!1&&h.dequeue(d,i.queue)}b.State.calls[t]=!1;for(var g=0,m=b.State.calls.length;m>g;g++)if(b.State.calls[g]!==!1){l=!0;break}l===!1&&(b.State.isTicking=!1,delete b.State.calls,b.State.calls=[])}var h,p=function(){if(n.documentMode)return n.documentMode;for(var t=7;t>4;t--){var e=n.createElement("div");if(e.innerHTML="<!--[if IE "+t+"]><span></span><![endif]-->",e.getElementsByTagName("span").length)return e=null,t}return r}(),f=function(){var t=0;return e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||function(e){var n,r=(new Date).getTime();return n=Math.max(0,16-(r-t)),t=r+n,setTimeout(function(){e(r+n)},n)}}(),g={isString:function(t){return"string"==typeof t},isArray:Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},isFunction:function(t){return"[object Function]"===Object.prototype.toString.call(t)},isNode:function(t){return t&&t.nodeType},isNodeList:function(t){return"object"==typeof t&&/^\[object (HTMLCollection|NodeList|Object)\]$/.test(Object.prototype.toString.call(t))&&t.length!==r&&(0===t.length||"object"==typeof t[0]&&t[0].nodeType>0)},isWrapped:function(t){return t&&(t.jquery||e.Zepto&&e.Zepto.zepto.isZ(t))},isSVG:function(t){return e.SVGElement&&t instanceof e.SVGElement},isEmptyObject:function(t){for(var e in t)return!1;return!0}},m=!1;if(t.fn&&t.fn.jquery?(h=t,m=!0):h=e.Velocity.Utilities,8>=p&&!m)throw new Error("Velocity: IE8 and below require jQuery to be loaded before Velocity.");if(7>=p)return void(jQuery.fn.velocity=jQuery.fn.animate);var y=400,v="swing",b={State:{isMobile:/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),isAndroid:/Android/i.test(navigator.userAgent),isGingerbread:/Android 2\.3\.[3-7]/i.test(navigator.userAgent),isChrome:e.chrome,isFirefox:/Firefox/i.test(navigator.userAgent),prefixElement:n.createElement("div"),prefixMatches:{},scrollAnchor:null,scrollPropertyLeft:null,scrollPropertyTop:null,isTicking:!1,calls:[]},CSS:{},Utilities:h,Redirects:{},Easings:{},Promise:e.Promise,defaults:{queue:"",duration:y,easing:v,begin:r,complete:r,progress:r,display:r,visibility:r,loop:!1,delay:!1,mobileHA:!0,_cacheValues:!0},init:function(t){h.data(t,"velocity",{isSVG:g.isSVG(t),isAnimating:!1,computedStyle:null,tweensContainer:null,rootPropertyValueCache:{},transformCache:{}})},hook:null,mock:!1,version:{major:1,minor:2,patch:2},debug:!1};e.pageYOffset!==r?(b.State.scrollAnchor=e,b.State.scrollPropertyLeft="pageXOffset",b.State.scrollPropertyTop="pageYOffset"):(b.State.scrollAnchor=n.documentElement||n.body.parentNode||n.body,b.State.scrollPropertyLeft="scrollLeft",b.State.scrollPropertyTop="scrollTop");var w=function(){function t(t){return-t.tension*t.x-t.friction*t.v}function e(e,n,r){var o={x:e.x+r.dx*n,v:e.v+r.dv*n,tension:e.tension,friction:e.friction};return{dx:o.v,dv:t(o)}}function n(n,r){var o={dx:n.v,dv:t(n)},i=e(n,.5*r,o),a=e(n,.5*r,i),s=e(n,r,a),l=1/6*(o.dx+2*(i.dx+a.dx)+s.dx),c=1/6*(o.dv+2*(i.dv+a.dv)+s.dv);return n.x=n.x+l*r,n.v=n.v+c*r,n}return function r(t,e,o){var i,a,s,l={x:-1,v:0,tension:null,friction:null},c=[0],u=0,d=1e-4,h=.016;for(t=parseFloat(t)||500,e=parseFloat(e)||20,o=o||null,l.tension=t,l.friction=e,i=null!==o,i?(u=r(t,e),a=u/o*h):a=h;;)if(s=n(s||l,a),c.push(1+s.x),u+=16,!(Math.abs(s.x)>d&&Math.abs(s.v)>d))break;return i?function(t){return c[t*(c.length-1)|0]}:u}}();b.Easings={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},spring:function(t){return 1-Math.cos(4.5*t*Math.PI)*Math.exp(6*-t)}},h.each([["ease",[.25,.1,.25,1]],["ease-in",[.42,0,1,1]],["ease-out",[0,0,.58,1]],["ease-in-out",[.42,0,.58,1]],["easeInSine",[.47,0,.745,.715]],["easeOutSine",[.39,.575,.565,1]],["easeInOutSine",[.445,.05,.55,.95]],["easeInQuad",[.55,.085,.68,.53]],["easeOutQuad",[.25,.46,.45,.94]],["easeInOutQuad",[.455,.03,.515,.955]],["easeInCubic",[.55,.055,.675,.19]],["easeOutCubic",[.215,.61,.355,1]],["easeInOutCubic",[.645,.045,.355,1]],["easeInQuart",[.895,.03,.685,.22]],["easeOutQuart",[.165,.84,.44,1]],["easeInOutQuart",[.77,0,.175,1]],["easeInQuint",[.755,.05,.855,.06]],["easeOutQuint",[.23,1,.32,1]],["easeInOutQuint",[.86,0,.07,1]],["easeInExpo",[.95,.05,.795,.035]],["easeOutExpo",[.19,1,.22,1]],["easeInOutExpo",[1,0,0,1]],["easeInCirc",[.6,.04,.98,.335]],["easeOutCirc",[.075,.82,.165,1]],["easeInOutCirc",[.785,.135,.15,.86]]],function(t,e){b.Easings[e[0]]=l.apply(null,e[1])});var x=b.CSS={RegEx:{isHex:/^#([A-f\d]{3}){1,2}$/i,valueUnwrap:/^[A-z]+\((.*)\)$/i,wrappedValueAlreadyExtracted:/[0-9.]+ [0-9.]+ [0-9.]+( [0-9.]+)?/,valueSplit:/([A-z]+\(.+\))|(([A-z0-9#-.]+?)(?=\s|$))/gi},Lists:{colors:["fill","stroke","stopColor","color","backgroundColor","borderColor","borderTopColor","borderRightColor","borderBottomColor","borderLeftColor","outlineColor"],transformsBase:["translateX","translateY","scale","scaleX","scaleY","skewX","skewY","rotateZ"],transforms3D:["transformPerspective","translateZ","scaleZ","rotateX","rotateY"]},Hooks:{templates:{textShadow:["Color X Y Blur","black 0px 0px 0px"],boxShadow:["Color X Y Blur Spread","black 0px 0px 0px 0px"],clip:["Top Right Bottom Left","0px 0px 0px 0px"],backgroundPosition:["X Y","0% 0%"],transformOrigin:["X Y Z","50% 50% 0px"],perspectiveOrigin:["X Y","50% 50%"]},registered:{},register:function(){for(var t=0;t<x.Lists.colors.length;t++){var e="color"===x.Lists.colors[t]?"0 0 0 1":"255 255 255 1";x.Hooks.templates[x.Lists.colors[t]]=["Red Green Blue Alpha",e]}var n,r,o;if(p)for(n in x.Hooks.templates){r=x.Hooks.templates[n],o=r[0].split(" ");var i=r[1].match(x.RegEx.valueSplit);"Color"===o[0]&&(o.push(o.shift()),i.push(i.shift()),x.Hooks.templates[n]=[o.join(" "),i.join(" ")])}for(n in x.Hooks.templates){r=x.Hooks.templates[n],o=r[0].split(" ");for(var t in o){var a=n+o[t],s=t;x.Hooks.registered[a]=[n,s]}}},getRoot:function(t){var e=x.Hooks.registered[t];return e?e[0]:t},cleanRootPropertyValue:function(t,e){return x.RegEx.valueUnwrap.test(e)&&(e=e.match(x.RegEx.valueUnwrap)[1]),x.Values.isCSSNullValue(e)&&(e=x.Hooks.templates[t][1]),e},extractValue:function(t,e){var n=x.Hooks.registered[t];if(n){var r=n[0],o=n[1];return e=x.Hooks.cleanRootPropertyValue(r,e),e.toString().match(x.RegEx.valueSplit)[o]}return e},injectValue:function(t,e,n){var r=x.Hooks.registered[t];if(r){var o,i,a=r[0],s=r[1];return n=x.Hooks.cleanRootPropertyValue(a,n),o=n.toString().match(x.RegEx.valueSplit),o[s]=e,i=o.join(" ")}return n}},Normalizations:{registered:{clip:function(t,e,n){switch(t){case"name":return"clip";case"extract":var r;return x.RegEx.wrappedValueAlreadyExtracted.test(n)?r=n:(r=n.toString().match(x.RegEx.valueUnwrap),r=r?r[1].replace(/,(\s+)?/g," "):n),r;case"inject":return"rect("+n+")"}},blur:function(t,e,n){switch(t){case"name":return b.State.isFirefox?"filter":"-webkit-filter";case"extract":var r=parseFloat(n);if(!r&&0!==r){var o=n.toString().match(/blur\(([0-9]+[A-z]+)\)/i);r=o?o[1]:0}return r;case"inject":return parseFloat(n)?"blur("+n+")":"none"}},opacity:function(t,e,n){if(8>=p)switch(t){case"name":return"filter";case"extract":var r=n.toString().match(/alpha\(opacity=(.*)\)/i);return n=r?r[1]/100:1;case"inject":return e.style.zoom=1,parseFloat(n)>=1?"":"alpha(opacity="+parseInt(100*parseFloat(n),10)+")"}else switch(t){case"name":return"opacity";case"extract":return n;case"inject":return n}}},register:function(){9>=p||b.State.isGingerbread||(x.Lists.transformsBase=x.Lists.transformsBase.concat(x.Lists.transforms3D));for(var t=0;t<x.Lists.transformsBase.length;t++)!function(){var e=x.Lists.transformsBase[t];x.Normalizations.registered[e]=function(t,n,o){switch(t){case"name":return"transform";case"extract":return a(n)===r||a(n).transformCache[e]===r?/^scale/i.test(e)?1:0:a(n).transformCache[e].replace(/[()]/g,"");case"inject":var i=!1;switch(e.substr(0,e.length-1)){case"translate":i=!/(%|px|em|rem|vw|vh|\d)$/i.test(o);break;case"scal":case"scale":b.State.isAndroid&&a(n).transformCache[e]===r&&1>o&&(o=1),i=!/(\d)$/i.test(o);break;case"skew":i=!/(deg|\d)$/i.test(o);break;case"rotate":i=!/(deg|\d)$/i.test(o)}return i||(a(n).transformCache[e]="("+o+")"),a(n).transformCache[e]}}}();for(var t=0;t<x.Lists.colors.length;t++)!function(){var e=x.Lists.colors[t];x.Normalizations.registered[e]=function(t,n,o){switch(t){case"name":return e;case"extract":var i;if(x.RegEx.wrappedValueAlreadyExtracted.test(o))i=o;else{var a,s={black:"rgb(0, 0, 0)",blue:"rgb(0, 0, 255)",gray:"rgb(128, 128, 128)",green:"rgb(0, 128, 0)",red:"rgb(255, 0, 0)",white:"rgb(255, 255, 255)"};/^[A-z]+$/i.test(o)?a=s[o]!==r?s[o]:s.black:x.RegEx.isHex.test(o)?a="rgb("+x.Values.hexToRgb(o).join(" ")+")":/^rgba?\(/i.test(o)||(a=s.black),i=(a||o).toString().match(x.RegEx.valueUnwrap)[1].replace(/,(\s+)?/g," ")}return 8>=p||3!==i.split(" ").length||(i+=" 1"),i;case"inject":return 8>=p?4===o.split(" ").length&&(o=o.split(/\s+/).slice(0,3).join(" ")):3===o.split(" ").length&&(o+=" 1"),(8>=p?"rgb":"rgba")+"("+o.replace(/\s+/g,",").replace(/\.(\d)+(?=,)/g,"")+")"}}}()}},Names:{camelCase:function(t){return t.replace(/-(\w)/g,function(t,e){return e.toUpperCase()})},SVGAttribute:function(t){var e="width|height|x|y|cx|cy|r|rx|ry|x1|x2|y1|y2";return(p||b.State.isAndroid&&!b.State.isChrome)&&(e+="|transform"),new RegExp("^("+e+")$","i").test(t)},prefixCheck:function(t){if(b.State.prefixMatches[t])return[b.State.prefixMatches[t],!0];for(var e=["","Webkit","Moz","ms","O"],n=0,r=e.length;r>n;n++){var o;if(o=0===n?t:e[n]+t.replace(/^\w/,function(t){return t.toUpperCase()}),g.isString(b.State.prefixElement.style[o]))return b.State.prefixMatches[t]=o,[o,!0]}return[t,!1]}},Values:{hexToRgb:function(t){var e,n=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,r=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i;return t=t.replace(n,function(t,e,n,r){return e+e+n+n+r+r}),e=r.exec(t),e?[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]:[0,0,0]},isCSSNullValue:function(t){return 0==t||/^(none|auto|transparent|(rgba\(0, ?0, ?0, ?0\)))$/i.test(t)},getUnitType:function(t){return/^(rotate|skew)/i.test(t)?"deg":/(^(scale|scaleX|scaleY|scaleZ|alpha|flexGrow|flexHeight|zIndex|fontWeight)$)|((opacity|red|green|blue|alpha)$)/i.test(t)?"":"px"},getDisplayType:function(t){var e=t&&t.tagName.toString().toLowerCase();return/^(b|big|i|small|tt|abbr|acronym|cite|code|dfn|em|kbd|strong|samp|var|a|bdo|br|img|map|object|q|script|span|sub|sup|button|input|label|select|textarea)$/i.test(e)?"inline":/^(li)$/i.test(e)?"list-item":/^(tr)$/i.test(e)?"table-row":/^(table)$/i.test(e)?"table":/^(tbody)$/i.test(e)?"table-row-group":"block"},addClass:function(t,e){t.classList?t.classList.add(e):t.className+=(t.className.length?" ":"")+e},removeClass:function(t,e){t.classList?t.classList.remove(e):t.className=t.className.toString().replace(new RegExp("(^|\\s)"+e.split(" ").join("|")+"(\\s|$)","gi")," ")}},getPropertyValue:function(t,n,o,i){function s(t,n){function o(){c&&x.setPropertyValue(t,"display","none")}var l=0;if(8>=p)l=h.css(t,n);else{var c=!1;if(/^(width|height)$/.test(n)&&0===x.getPropertyValue(t,"display")&&(c=!0,x.setPropertyValue(t,"display",x.Values.getDisplayType(t))),!i){if("height"===n&&"border-box"!==x.getPropertyValue(t,"boxSizing").toString().toLowerCase()){var u=t.offsetHeight-(parseFloat(x.getPropertyValue(t,"borderTopWidth"))||0)-(parseFloat(x.getPropertyValue(t,"borderBottomWidth"))||0)-(parseFloat(x.getPropertyValue(t,"paddingTop"))||0)-(parseFloat(x.getPropertyValue(t,"paddingBottom"))||0);return o(),u}if("width"===n&&"border-box"!==x.getPropertyValue(t,"boxSizing").toString().toLowerCase()){var d=t.offsetWidth-(parseFloat(x.getPropertyValue(t,"borderLeftWidth"))||0)-(parseFloat(x.getPropertyValue(t,"borderRightWidth"))||0)-(parseFloat(x.getPropertyValue(t,"paddingLeft"))||0)-(parseFloat(x.getPropertyValue(t,"paddingRight"))||0);return o(),d}}var f;f=a(t)===r?e.getComputedStyle(t,null):a(t).computedStyle?a(t).computedStyle:a(t).computedStyle=e.getComputedStyle(t,null),"borderColor"===n&&(n="borderTopColor"),l=9===p&&"filter"===n?f.getPropertyValue(n):f[n],(""===l||null===l)&&(l=t.style[n]),o()}if("auto"===l&&/^(top|right|bottom|left)$/i.test(n)){var g=s(t,"position");("fixed"===g||"absolute"===g&&/top|left/i.test(n))&&(l=h(t).position()[n]+"px")}return l}var l;if(x.Hooks.registered[n]){var c=n,u=x.Hooks.getRoot(c);o===r&&(o=x.getPropertyValue(t,x.Names.prefixCheck(u)[0])),x.Normalizations.registered[u]&&(o=x.Normalizations.registered[u]("extract",t,o)),l=x.Hooks.extractValue(c,o)}else if(x.Normalizations.registered[n]){var d,f;d=x.Normalizations.registered[n]("name",t),"transform"!==d&&(f=s(t,x.Names.prefixCheck(d)[0]),x.Values.isCSSNullValue(f)&&x.Hooks.templates[n]&&(f=x.Hooks.templates[n][1])),l=x.Normalizations.registered[n]("extract",t,f)}if(!/^[\d-]/.test(l))if(a(t)&&a(t).isSVG&&x.Names.SVGAttribute(n))if(/^(height|width)$/i.test(n))try{l=t.getBBox()[n]}catch(g){l=0}else l=t.getAttribute(n);else l=s(t,x.Names.prefixCheck(n)[0]);return x.Values.isCSSNullValue(l)&&(l=0),b.debug>=2&&console.log("Get "+n+": "+l),l},setPropertyValue:function(t,n,r,o,i){var s=n;if("scroll"===n)i.container?i.container["scroll"+i.direction]=r:"Left"===i.direction?e.scrollTo(r,i.alternateValue):e.scrollTo(i.alternateValue,r);else if(x.Normalizations.registered[n]&&"transform"===x.Normalizations.registered[n]("name",t))x.Normalizations.registered[n]("inject",t,r),s="transform",r=a(t).transformCache[n];else{if(x.Hooks.registered[n]){var l=n,c=x.Hooks.getRoot(n);o=o||x.getPropertyValue(t,c),r=x.Hooks.injectValue(l,r,o),n=c}if(x.Normalizations.registered[n]&&(r=x.Normalizations.registered[n]("inject",t,r),n=x.Normalizations.registered[n]("name",t)),s=x.Names.prefixCheck(n)[0],8>=p)try{t.style[s]=r}catch(u){b.debug&&console.log("Browser does not support ["+r+"] for ["+s+"]")}else if(a(t)&&a(t).isSVG&&x.Names.SVGAttribute(n))t.setAttribute(n,r);else{var d="webgl"===t.renderer?t.styleGL:t.style;d[s]=r}b.debug>=2&&console.log("Set "+n+" ("+s+"): "+r)}return[s,r]},flushTransformCache:function(t){function e(e){return parseFloat(x.getPropertyValue(t,e))}var n="";if((p||b.State.isAndroid&&!b.State.isChrome)&&a(t).isSVG){var r={translate:[e("translateX"),e("translateY")],skewX:[e("skewX")],skewY:[e("skewY")],scale:1!==e("scale")?[e("scale"),e("scale")]:[e("scaleX"),e("scaleY")],rotate:[e("rotateZ"),0,0]};h.each(a(t).transformCache,function(t){/^translate/i.test(t)?t="translate":/^scale/i.test(t)?t="scale":/^rotate/i.test(t)&&(t="rotate"),r[t]&&(n+=t+"("+r[t].join(" ")+") ",delete r[t])})}else{var o,i;h.each(a(t).transformCache,function(e){return o=a(t).transformCache[e],"transformPerspective"===e?(i=o,!0):(9===p&&"rotateZ"===e&&(e="rotate"),void(n+=e+o+" "))}),i&&(n="perspective"+i+" "+n)}x.setPropertyValue(t,"transform",n)}};x.Hooks.register(),x.Normalizations.register(),b.hook=function(t,e,n){var o=r;return t=i(t),h.each(t,function(t,i){if(a(i)===r&&b.init(i),n===r)o===r&&(o=b.CSS.getPropertyValue(i,e));else{var s=b.CSS.setPropertyValue(i,e,n);"transform"===s[0]&&b.CSS.flushTransformCache(i),o=s}}),o};var T=function(){function t(){return s?k.promise||null:l}function o(){function t(t){function d(t,e){var n=r,o=r,a=r;return g.isArray(t)?(n=t[0],!g.isArray(t[1])&&/^[\d-]/.test(t[1])||g.isFunction(t[1])||x.RegEx.isHex.test(t[1])?a=t[1]:(g.isString(t[1])&&!x.RegEx.isHex.test(t[1])||g.isArray(t[1]))&&(o=e?t[1]:c(t[1],s.duration),t[2]!==r&&(a=t[2]))):n=t,e||(o=o||s.easing),g.isFunction(n)&&(n=n.call(i,E,S)),g.isFunction(a)&&(a=a.call(i,E,S)),[n||0,o,a]}function p(t,e){var n,r;return r=(e||"0").toString().toLowerCase().replace(/[%A-z]+$/,function(t){return n=t,""}),n||(n=x.Values.getUnitType(t)),[r,n]}function y(){var t={myParent:i.parentNode||n.body,position:x.getPropertyValue(i,"position"),fontSize:x.getPropertyValue(i,"fontSize")},r=t.position===N.lastPosition&&t.myParent===N.lastParent,o=t.fontSize===N.lastFontSize;N.lastParent=t.myParent,N.lastPosition=t.position,N.lastFontSize=t.fontSize;var s=100,l={};if(o&&r)l.emToPx=N.lastEmToPx,l.percentToPxWidth=N.lastPercentToPxWidth,l.percentToPxHeight=N.lastPercentToPxHeight;else{var c=a(i).isSVG?n.createElementNS("http://www.w3.org/2000/svg","rect"):n.createElement("div");b.init(c),t.myParent.appendChild(c),h.each(["overflow","overflowX","overflowY"],function(t,e){b.CSS.setPropertyValue(c,e,"hidden")}),b.CSS.setPropertyValue(c,"position",t.position),b.CSS.setPropertyValue(c,"fontSize",t.fontSize),b.CSS.setPropertyValue(c,"boxSizing","content-box"),h.each(["minWidth","maxWidth","width","minHeight","maxHeight","height"],function(t,e){b.CSS.setPropertyValue(c,e,s+"%")}),b.CSS.setPropertyValue(c,"paddingLeft",s+"em"),l.percentToPxWidth=N.lastPercentToPxWidth=(parseFloat(x.getPropertyValue(c,"width",null,!0))||1)/s,l.percentToPxHeight=N.lastPercentToPxHeight=(parseFloat(x.getPropertyValue(c,"height",null,!0))||1)/s,l.emToPx=N.lastEmToPx=(parseFloat(x.getPropertyValue(c,"paddingLeft"))||1)/s,t.myParent.removeChild(c)}return null===N.remToPx&&(N.remToPx=parseFloat(x.getPropertyValue(n.body,"fontSize"))||16),null===N.vwToPx&&(N.vwToPx=parseFloat(e.innerWidth)/100,N.vhToPx=parseFloat(e.innerHeight)/100),l.remToPx=N.remToPx,l.vwToPx=N.vwToPx,l.vhToPx=N.vhToPx,b.debug>=1&&console.log("Unit ratios: "+JSON.stringify(l),i),l}if(s.begin&&0===E)try{s.begin.call(f,f)}catch(w){setTimeout(function(){throw w},1)}if("scroll"===P){var T,C,L,M=/^x$/i.test(s.axis)?"Left":"Top",I=parseFloat(s.offset)||0;s.container?g.isWrapped(s.container)||g.isNode(s.container)?(s.container=s.container[0]||s.container,T=s.container["scroll"+M],L=T+h(i).position()[M.toLowerCase()]+I):s.container=null:(T=b.State.scrollAnchor[b.State["scrollProperty"+M]],C=b.State.scrollAnchor[b.State["scrollProperty"+("Left"===M?"Top":"Left")]],L=h(i).offset()[M.toLowerCase()]+I),l={scroll:{rootPropertyValue:!1,startValue:T,currentValue:T,endValue:L,unitType:"",easing:s.easing,scrollData:{container:s.container,direction:M,alternateValue:C}},element:i},b.debug&&console.log("tweensContainer (scroll): ",l.scroll,i)}else if("reverse"===P){if(!a(i).tweensContainer)return void h.dequeue(i,s.queue);"none"===a(i).opts.display&&(a(i).opts.display="auto"),"hidden"===a(i).opts.visibility&&(a(i).opts.visibility="visible"),a(i).opts.loop=!1,a(i).opts.begin=null,a(i).opts.complete=null,v.easing||delete s.easing,v.duration||delete s.duration,s=h.extend({},a(i).opts,s);var A=h.extend(!0,{},a(i).tweensContainer);for(var O in A)if("element"!==O){var R=A[O].startValue;A[O].startValue=A[O].currentValue=A[O].endValue,A[O].endValue=R,g.isEmptyObject(v)||(A[O].easing=s.easing),b.debug&&console.log("reverse tweensContainer ("+O+"): "+JSON.stringify(A[O]),i)}l=A}else if("start"===P){var A;a(i).tweensContainer&&a(i).isAnimating===!0&&(A=a(i).tweensContainer),h.each(m,function(t,e){if(RegExp("^"+x.Lists.colors.join("$|^")+"$").test(t)){var n=d(e,!0),o=n[0],i=n[1],a=n[2];if(x.RegEx.isHex.test(o)){for(var s=["Red","Green","Blue"],l=x.Values.hexToRgb(o),c=a?x.Values.hexToRgb(a):r,u=0;u<s.length;u++){var h=[l[u]];i&&h.push(i),c!==r&&h.push(c[u]),m[t+s[u]]=h}delete m[t]}}});for(var _ in m){var H=d(m[_]),F=H[0],B=H[1],j=H[2];_=x.Names.camelCase(_);var D=x.Hooks.getRoot(_),G=!1;if(a(i).isSVG||"tween"===D||x.Names.prefixCheck(D)[1]!==!1||x.Normalizations.registered[D]!==r){(s.display!==r&&null!==s.display&&"none"!==s.display||s.visibility!==r&&"hidden"!==s.visibility)&&/opacity|filter/.test(_)&&!j&&0!==F&&(j=0),s._cacheValues&&A&&A[_]?(j===r&&(j=A[_].endValue+A[_].unitType),G=a(i).rootPropertyValueCache[D]):x.Hooks.registered[_]?j===r?(G=x.getPropertyValue(i,D),j=x.getPropertyValue(i,_,G)):G=x.Hooks.templates[D][1]:j===r&&(j=x.getPropertyValue(i,_));var z,W,q,U=!1;if(z=p(_,j),j=z[0],q=z[1],z=p(_,F),F=z[0].replace(/^([+-\/*])=/,function(t,e){return U=e,""}),W=z[1],j=parseFloat(j)||0,F=parseFloat(F)||0,"%"===W&&(/^(fontSize|lineHeight)$/.test(_)?(F/=100,W="em"):/^scale/.test(_)?(F/=100,W=""):/(Red|Green|Blue)$/i.test(_)&&(F=F/100*255,W="")),/[\/*]/.test(U))W=q;else if(q!==W&&0!==j)if(0===F)W=q;else{o=o||y();

var X=/margin|padding|left|right|width|text|word|letter/i.test(_)||/X$/.test(_)||"x"===_?"x":"y";switch(q){case"%":j*="x"===X?o.percentToPxWidth:o.percentToPxHeight;break;case"px":break;default:j*=o[q+"ToPx"]}switch(W){case"%":j*=1/("x"===X?o.percentToPxWidth:o.percentToPxHeight);break;case"px":break;default:j*=1/o[W+"ToPx"]}}switch(U){case"+":F=j+F;break;case"-":F=j-F;break;case"*":F=j*F;break;case"/":F=j/F}l[_]={rootPropertyValue:G,startValue:j,currentValue:j,endValue:F,unitType:W,easing:B},b.debug&&console.log("tweensContainer ("+_+"): "+JSON.stringify(l[_]),i)}else b.debug&&console.log("Skipping ["+D+"] due to a lack of browser support.")}l.element=i}l.element&&(x.Values.addClass(i,"velocity-animating"),V.push(l),""===s.queue&&(a(i).tweensContainer=l,a(i).opts=s),a(i).isAnimating=!0,E===S-1?(b.State.calls.push([V,f,s,null,k.resolver]),b.State.isTicking===!1&&(b.State.isTicking=!0,u())):E++)}var o,i=this,s=h.extend({},b.defaults,v),l={};switch(a(i)===r&&b.init(i),parseFloat(s.delay)&&s.queue!==!1&&h.queue(i,s.queue,function(t){b.velocityQueueEntryFlag=!0,a(i).delayTimer={setTimeout:setTimeout(t,parseFloat(s.delay)),next:t}}),s.duration.toString().toLowerCase()){case"fast":s.duration=200;break;case"normal":s.duration=y;break;case"slow":s.duration=600;break;default:s.duration=parseFloat(s.duration)||1}b.mock!==!1&&(b.mock===!0?s.duration=s.delay=1:(s.duration*=parseFloat(b.mock)||1,s.delay*=parseFloat(b.mock)||1)),s.easing=c(s.easing,s.duration),s.begin&&!g.isFunction(s.begin)&&(s.begin=null),s.progress&&!g.isFunction(s.progress)&&(s.progress=null),s.complete&&!g.isFunction(s.complete)&&(s.complete=null),s.display!==r&&null!==s.display&&(s.display=s.display.toString().toLowerCase(),"auto"===s.display&&(s.display=b.CSS.Values.getDisplayType(i))),s.visibility!==r&&null!==s.visibility&&(s.visibility=s.visibility.toString().toLowerCase()),s.mobileHA=s.mobileHA&&b.State.isMobile&&!b.State.isGingerbread,s.queue===!1?s.delay?setTimeout(t,s.delay):t():h.queue(i,s.queue,function(e,n){return n===!0?(k.promise&&k.resolver(f),!0):(b.velocityQueueEntryFlag=!0,void t(e))}),""!==s.queue&&"fx"!==s.queue||"inprogress"===h.queue(i)[0]||h.dequeue(i)}var s,l,p,f,m,v,w=arguments[0]&&(arguments[0].p||h.isPlainObject(arguments[0].properties)&&!arguments[0].properties.names||g.isString(arguments[0].properties));if(g.isWrapped(this)?(s=!1,p=0,f=this,l=this):(s=!0,p=1,f=w?arguments[0].elements||arguments[0].e:arguments[0]),f=i(f)){w?(m=arguments[0].properties||arguments[0].p,v=arguments[0].options||arguments[0].o):(m=arguments[p],v=arguments[p+1]);var S=f.length,E=0;if(!/^(stop|finish)$/i.test(m)&&!h.isPlainObject(v)){var C=p+1;v={};for(var L=C;L<arguments.length;L++)g.isArray(arguments[L])||!/^(fast|normal|slow)$/i.test(arguments[L])&&!/^\d/.test(arguments[L])?g.isString(arguments[L])||g.isArray(arguments[L])?v.easing=arguments[L]:g.isFunction(arguments[L])&&(v.complete=arguments[L]):v.duration=arguments[L]}var k={promise:null,resolver:null,rejecter:null};s&&b.Promise&&(k.promise=new b.Promise(function(t,e){k.resolver=t,k.rejecter=e}));var P;switch(m){case"scroll":P="scroll";break;case"reverse":P="reverse";break;case"finish":case"stop":h.each(f,function(t,e){a(e)&&a(e).delayTimer&&(clearTimeout(a(e).delayTimer.setTimeout),a(e).delayTimer.next&&a(e).delayTimer.next(),delete a(e).delayTimer)});var M=[];return h.each(b.State.calls,function(t,e){e&&h.each(e[1],function(n,o){var i=v===r?"":v;return i===!0||e[2].queue===i||v===r&&e[2].queue===!1?void h.each(f,function(n,r){r===o&&((v===!0||g.isString(v))&&(h.each(h.queue(r,g.isString(v)?v:""),function(t,e){g.isFunction(e)&&e(null,!0)}),h.queue(r,g.isString(v)?v:"",[])),"stop"===m?(a(r)&&a(r).tweensContainer&&i!==!1&&h.each(a(r).tweensContainer,function(t,e){e.endValue=e.currentValue}),M.push(t)):"finish"===m&&(e[2].duration=1))}):!0})}),"stop"===m&&(h.each(M,function(t,e){d(e,!0)}),k.promise&&k.resolver(f)),t();default:if(!h.isPlainObject(m)||g.isEmptyObject(m)){if(g.isString(m)&&b.Redirects[m]){var I=h.extend({},v),A=I.duration,O=I.delay||0;return I.backwards===!0&&(f=h.extend(!0,[],f).reverse()),h.each(f,function(t,e){parseFloat(I.stagger)?I.delay=O+parseFloat(I.stagger)*t:g.isFunction(I.stagger)&&(I.delay=O+I.stagger.call(e,t,S)),I.drag&&(I.duration=parseFloat(A)||(/^(callout|transition)/.test(m)?1e3:y),I.duration=Math.max(I.duration*(I.backwards?1-t/S:(t+1)/S),.75*I.duration,200)),b.Redirects[m].call(e,e,I||{},t,S,f,k.promise?k:r)}),t()}var R="Velocity: First argument ("+m+") was not a property map, a known action, or a registered redirect. Aborting.";return k.promise?k.rejecter(new Error(R)):console.log(R),t()}P="start"}var N={lastParent:null,lastPosition:null,lastFontSize:null,lastPercentToPxWidth:null,lastPercentToPxHeight:null,lastEmToPx:null,remToPx:null,vwToPx:null,vhToPx:null},V=[];h.each(f,function(t,e){g.isNode(e)&&o.call(e)});var _,I=h.extend({},b.defaults,v);if(I.loop=parseInt(I.loop),_=2*I.loop-1,I.loop)for(var H=0;_>H;H++){var F={delay:I.delay,progress:I.progress};H===_-1&&(F.display=I.display,F.visibility=I.visibility,F.complete=I.complete),T(f,"reverse",F)}return t()}};b=h.extend(T,b),b.animate=T;var S=e.requestAnimationFrame||f;return b.State.isMobile||n.hidden===r||n.addEventListener("visibilitychange",function(){n.hidden?(S=function(t){return setTimeout(function(){t(!0)},16)},u()):S=e.requestAnimationFrame||f}),t.Velocity=b,t!==e&&(t.fn.velocity=T,t.fn.velocity.defaults=b.defaults),h.each(["Down","Up"],function(t,e){b.Redirects["slide"+e]=function(t,n,o,i,a,s){var l=h.extend({},n),c=l.begin,u=l.complete,d={height:"",marginTop:"",marginBottom:"",paddingTop:"",paddingBottom:""},p={};l.display===r&&(l.display="Down"===e?"inline"===b.CSS.Values.getDisplayType(t)?"inline-block":"block":"none"),l.begin=function(){var n="webgl"===t.renderer?t.styleGL:t.style;c&&c.call(a,a);for(var r in d){p[r]=n[r];var o=b.CSS.getPropertyValue(t,r);d[r]="Down"===e?[o,0]:[0,o]}p.overflow=n.overflow,n.overflow="hidden"},l.complete=function(){for(var t in p)style[t]=p[t];u&&u.call(a,a),s&&s.resolver(a)},b(t,d,l)}}),h.each(["In","Out"],function(t,e){b.Redirects["fade"+e]=function(t,n,o,i,a,s){var l=h.extend({},n),c={opacity:"In"===e?1:0},u=l.complete;o!==i-1?l.complete=l.begin=null:l.complete=function(){u&&u.call(a,a),s&&s.resolver(a)},l.display===r&&(l.display="In"===e?"auto":"none"),b(this,c,l)}}),b}(window.jQuery||window.Zepto||window,window,document)}),function(t){t.HTMLGL=t.HTMLGL||{},t.HTMLGL.util={getterSetter:function(t,e,n,r){Object.defineProperty?Object.defineProperty(t,e,{get:n,set:r}):document.__defineGetter__&&(t.__defineGetter__(e,n),t.__defineSetter__(e,r)),t["get"+e]=n,t["set"+e]=r},emitEvent:function(t,e){var n=new MouseEvent(e.type,e);n.dispatcher="html-gl",e.stopPropagation(),t.dispatchEvent(n)},debounce:function(t,e,n){var r;return function(){var o=this,i=arguments,a=function(){r=null,n||t.apply(o,i)},s=n&&!r;clearTimeout(r),r=setTimeout(a,e),s&&t.apply(o,i)}}}}(window),function(t){var e=function(t){},n=e.prototype;n.getElementByCoordinates=function(e,n){var r,o,i=this;return t.HTMLGL.elements.forEach(function(t){r=document.elementFromPoint(e-parseInt(t.transformObject.translateX||0),n-parseInt(t.transformObject.translateY||0)),i.isChildOf(r,t)&&(o=r)}),o},n.isChildOf=function(t,e){for(var n=t;n;){if(n===e)return!0;n=n.parentNode}return!1},t.HTMLGL.GLElementResolver=e}(window),function(t){HTMLGL=t.HTMLGL=t.HTMLGL||{},HTMLGL.JQ_PLUGIN_NAME="htmlgl",HTMLGL.CUSTOM_ELEMENT_TAG_NAME="html-gl",HTMLGL.context=void 0,HTMLGL.stage=void 0,HTMLGL.renderer=void 0,HTMLGL.elements=[],HTMLGL.scrollX=0,HTMLGL.scrollY=0;var e=function(){t.HTMLGL.context=this,this.createStage(),this.updateScrollPosition(),this.initListeners(),this.elementResolver=new t.HTMLGL.GLElementResolver(this),document.body?this.initViewer():document.addEventListener("DOMContentLoaded",this.initViewer.bind(this))},n=e.prototype;n.initViewer=function(){this.createViewer(),this.resizeViewer(),this.appendViewer()},n.initListeners=function(){t.addEventListener("scroll",this.updateScrollPosition.bind(this)),t.addEventListener("resize",t.HTMLGL.util.debounce(this.resizeViewer,500).bind(this)),document.addEventListener("click",this.onMouseEvent.bind(this),!0),document.addEventListener("mousemove",this.onMouseEvent.bind(this),!0),document.addEventListener("mouseup",this.onMouseEvent.bind(this),!0),document.addEventListener("mousedown",this.onMouseEvent.bind(this),!0),document.addEventListener("touchstart",this.onMouseEvent.bind(this)),document.addEventListener("touchend",this.onMouseEvent.bind(this))},n.updateScrollPosition=function(){var e={};if(void 0!=window.pageYOffset)e={left:pageXOffset,top:pageYOffset};else{var n,r,o=document,i=o.documentElement,a=o.body;n=i.scrollLeft||a.scrollLeft||0,r=i.scrollTop||a.scrollTop||0,e={left:n,top:r}}this.document.x=-e.left,this.document.y=-e.top,t.HTMLGL.scrollX=e.left,t.HTMLGL.scrollY=e.top,this.markStageAsChanged()},n.createViewer=function(){t.HTMLGL.renderer=this.renderer=PIXI.autoDetectRenderer(0,0,{transparent:!0}),this.renderer.view.style.position="fixed",this.renderer.view.style.top="0px",this.renderer.view.style.left="0px",this.renderer.view.style["pointer-events"]="none",this.renderer.view.style.pointerEvents="none"},n.appendViewer=function(){document.body.appendChild(this.renderer.view),requestAnimationFrame(this.redrawStage.bind(this))},n.resizeViewer=function(){var e=t.innerWidth,n=t.innerHeight;this.renderer.resize(e,n),this.updateTextures(),this.markStageAsChanged()},n.createStage=function(){t.HTMLGL.stage=this.stage=new PIXI.Stage(16777215),t.HTMLGL.document=this.document=new PIXI.DisplayObjectContainer,this.stage.addChild(t.HTMLGL.document)},n.redrawStage=function(){t.HTMLGL.stage.changed&&(t.HTMLGL.renderer.render(t.HTMLGL.stage),t.HTMLGL.stage.changed=!1)},n.updateTextures=function(){t.HTMLGL.elements.forEach(function(t){t.updateTexture()})},n.onMouseEvent=function(e){var n=e.x||e.pageX,r=e.y||e.pageY,o="html-gl"!==e.dispatcher?this.elementResolver.getElementByCoordinates(n,r):null;o?t.HTMLGL.util.emitEvent(o,e):null},n.markStageAsChanged=function(){t.HTMLGL.stage&&!t.HTMLGL.stage.changed&&(requestAnimationFrame(this.redrawStage),t.HTMLGL.stage.changed=!0)},t.HTMLGL.GLContext=e,new e}(window),function(t){var e=function(t,e){this.element=t,this.images=this.element.querySelectorAll("img"),this.callback=e,this.imagesLoaded=this.getImagesLoaded(),this.images.length===this.imagesLoaded?this.onImageLoaded():this.addListeners()},n=e.prototype;n.getImagesLoaded=function(){for(var t=0,e=0;e<this.images.length;e++)this.images[e].complete===!0&&t++;return t},n.addListeners=function(){for(var t=0,e=0;e<this.images.length;e++)this.images[e].complete!==!0&&(this.images[e].addEventListener("load",this.onImageLoaded.bind(this)),this.images[e].addEventListener("error",this.onImageLoaded.bind(this)));return t},n.onImageLoaded=function(){this.imagesLoaded++,this.images.length-this.imagesLoaded<=0&&setTimeout(this.callback,0)},t.HTMLGL.ImagesLoaded=e}(window),function(t){var e=Object.create(HTMLElement.prototype),n=document.createElement("style");n.innerHTML=HTMLGL.CUSTOM_ELEMENT_TAG_NAME+" { display: inline-block; transform: translateZ(0);}",document.head.appendChild(n),e.createdCallback=function(){for(var t=this,e=!1;t=t.parentNode;)"BODY"===t.tagName&&(e=!0);var n=e&&void 0!==this.baseURI&&0===this.baseURI.length;n||(HTMLGL.elements.push(this),this.setAttribute("renderer","webgl"),this.renderer="webgl",this.transformObject={},this.boundingRect={},this.image={},this.sprite=new PIXI.Sprite,this.texture={},this.halfWidth=0,this.halfHeight=0,this.observer=void 0,this.bindCallbacks(),this.transformProperty=void 0!==this.style.transform?"transform":"WebkitTransform",this.init())},e.init=function(){this.updateTexture(),this.initObservers(),this.patchStyleGLTransform()},e.updateTexture=function(){var t=this;t.updateBoundingRect(),new HTMLGL.ImagesLoaded(t,function(){t.updateBoundingRect(),t.image=html2canvas(t,{onrendered:t.applyNewTexture,width:t.boundingRect.width,height:t.boundingRect.height})})},e.applyNewTexture=function(t){this.image=t,this.texture=PIXI.Texture.fromCanvas(this.image),this.haveSprite()?(this.sprite.texture.destroy(),this.sprite.setTexture(this.texture)):this.initSprite(this.texture),this.updatePivot(),this.updateSpriteTransform(),HTMLGL.context.markStageAsChanged()},e.updateSpriteTransform=function(){var t=parseFloat(this.transformObject.translateX)||0,e=parseFloat(this.transformObject.translateY)||0,n=parseFloat(this.transformObject.scaleX)||1,r=parseFloat(this.transformObject.scaleY)||1,o=parseFloat(this.transformObject.rotateZ)/180*Math.PI||0;this.sprite&&this.sprite.position&&(this.sprite.position.x=this.boundingRect.left+t+this.halfWidth,this.sprite.position.y=this.boundingRect.top+e+this.halfHeight,this.sprite.scale.x=n,this.sprite.scale.y=r,this.sprite.rotation=o),HTMLGL.context.markStageAsChanged()},e.updateBoundingRect=function(){this.boundingRect={left:this.getBoundingClientRect().left,right:this.getBoundingClientRect().right,top:this.getBoundingClientRect().top,bottom:this.getBoundingClientRect().bottom,width:this.getBoundingClientRect().width,height:this.getBoundingClientRect().height},this.boundingRect.left=HTMLGL.scrollX+parseFloat(this.boundingRect.left),this.boundingRect.top=HTMLGL.scrollY+parseFloat(this.boundingRect.top)},e.updatePivot=function(){this.halfWidth=this.sprite.width/2,this.halfHeight=this.sprite.height/2,this.sprite.pivot.x=this.halfWidth,this.sprite.pivot.y=this.halfHeight},e.initSprite=function(t){var e=this;this.sprite.setTexture(t),HTMLGL.document.addChild(this.sprite),setTimeout(function(){e.hideDOM()},0)},e.initObservers=function(){var t=this,e={childList:!0,characterData:!0,subtree:!0,attributes:!0,attributeFilter:["style"]};this.observer=this.observer||new MutationObserver(function(e){"style"===e[0].attributeName?(t.transformObject=t.getTransformObjectFromString(t.style[t.transformProperty]),t.updateSpriteTransform()):t.updateTexture()}),this.observer.observe(this,e)},e.patchStyleGLTransform=function(){var t=this;t.styleGL={},HTMLGL.util.getterSetter(this.styleGL,this.transformProperty,function(){var e="";for(var n in t.transformObject){var r="("+t.transformObject[n]+") ";e+=n+r}return e},function(e){t.transformObject=t.getTransformObjectFromString(e),t.updateSpriteTransform()})},e.getTransformObjectFromString=function(t){return(t.match(/([\w]+)\(([^\)]+)\)/g)||[]).map(function(t){return t.replace(/\)$/,"").split(/\(/)}).reduce(function(t,e){return t[e[0]]=e[1],t},{})},e.hideDOM=function(){this.style.opacity=0},e.bindCallbacks=function(){this.applyNewTexture=this.applyNewTexture.bind(this)},e.haveSprite=function(){return this.sprite.stage},HTMLGL.GLElement=document.registerElement(HTMLGL.CUSTOM_ELEMENT_TAG_NAME,{prototype:e}),HTMLGL.GLElement.createFromNode=function(t){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return e.createdCallback.apply(t),t},void 0!==t.jQuery&&(jQuery[HTMLGL.JQ_PLUGIN_NAME]={},jQuery[HTMLGL.JQ_PLUGIN_NAME].elements=[],jQuery.fn[HTMLGL.JQ_PLUGIN_NAME]=function(){return this.each(function(){if(!jQuery.data(this,"plugin_"+HTMLGL.JQ_PLUGIN_NAME)){var t=HTMLGL.GLElement.createFromNode(this);jQuery.data(this,"plugin_"+HTMLGL.JQ_PLUGIN_NAME,t),jQuery[HTMLGL.JQ_PLUGIN_NAME].elements.push(t)}})})}(window);